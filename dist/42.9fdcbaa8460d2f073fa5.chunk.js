webpackJsonp([42],{270:function(t,e,a){"use strict";function i(t){p||a(985)}Object.defineProperty(e,"__esModule",{value:!0});var o=a(537),n=a.n(o);for(var r in o)"default"!==r&&function(t){a.d(e,t,function(){return o[t]})}(r);var c=a(987),l=a.n(c),p=!1,s=a(1),d=i,m=s(n.a,l.a,!1,d,null,null);m.options.__file="src/views/clearingTicket/component/application_add.vue",e.default=m.exports},537:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(33),n=i(o),r=a(2),c=(i(r),a(10)),l=i(c);e.default={name:"",data:function(){var t=this;return{chooseType:"验收开票",flag:"",detailInfoMd:!1,contractInfoMd:!1,acceptanceInfoMd:!1,modal_loading:!1,acceptanceDirect:!1,loadingMorn:!1,loading:!1,purchli:[],invoiceApplicationId:"",contractId:"",contractSearch:"",acceptanceSearch:"",detailDatas:[],file:"",list:[],filesList:[],flieDisabled:!1,formApplication:{contractId:"",contractName:"",companyId:"",contractCode:"",companyName:"",contractNo:"",arrivalNo:"",invoiceApplyMoney:"",noticeStyle:"",invoiceRuleId:"",relativerName:"",relativerId:"",supplierId:"",supplierName:"",supplierCode:"",supplierbankName:"",supplierbankAccount:"",suppliercompanyAddr:"",suppliercontactsTel:"",purchaserId:"",purchaserName:"",purchaserCode:"",purchaserbankName:"",purchaserbankAccount:"",purchasercompanyAddr:"",purchasercontactsTel:"",taxMoney:"",description:"",noticeNo:""},ruleValidate:{contractName:[{required:!0,message:"请选择订单信息",trigger:"change"}],arrivalNo:[{required:!0,message:"请选择到货验收单",trigger:"change"}],noticeStyle:[{required:!0,message:"请选择开票类型",trigger:"change"}],purchaserName:[{required:!0,message:"请输入开票抬头",trigger:"blur"}],purchaserCode:[{required:!0,message:"请输入纳税识别号",trigger:"blur"}],purchaserbankName:[{required:!0,message:"请输入开户行",trigger:"blur"}],purchaserbankAccount:[{required:!0,message:"请输入开户账号",trigger:"blur"}],purchasercompanyAddr:[{required:!0,message:"请输入地址",trigger:"blur"}],purchasercontactsTel:[{required:!0,message:"请输入电话",trigger:"blur"}]},columns2:[{type:"selection",width:60,align:"center",fixed:"left"},{title:"序号",type:"index",width:80,align:"center"},{title:"物资名称",key:"materialName",align:"center",width:200},{title:"材料规格型号",key:"spectype",align:"center",width:200},{title:"单位",key:"metricunitName",align:"center",width:200},{title:"数量",key:"checkQuantity",align:"center",width:200,render:function(e,a){return"直接开票"==t.chooseType?e("span",[e("InputNumber",{props:{value:a.row.settlementQuantity,size:"small",max:a.row.settlementQuantity1,min:1},on:{"on-change":function(e){a.row.settlementQuantity=e,t.detailData[a.index].settlementQuantity=e,a.row.settlementMoney=a.row.settlementQuantity*a.row.price,a.row.settlementMoneys=a.row.settlementMoney*(1+a.row.itemTax),a.row.taxMoney=a.row.itemTax*a.row.settlementMoney,t.detailData[a.index].settlementMoneys=a.row.settlementMoneys,t.detailData[a.index].settlementMoney=a.row.settlementMoney,t.detailData[a.index].taxMoney=a.row.taxMoney,t.detailData[a.index].itemTaxAmount=a.row.taxMoney,t.detailData[a.index].taxExclusiveAmount=a.row.settlementMoney;for(var i=0,o=0,n=0;n<t.detailData.length;n++)i=Number(i)+Number(t.detailData[n].settlementMoneys),t.formApplication.invoiceApplyMoney=i,console.log(i);for(var n=0;n<t.detailData.length;n++)o=Number(o)+Number(t.detailData[n].taxMoney),t.formApplication.taxMoney=o}}})]):e("span",a.row.settlementQuantity)}},{title:"单价(未税)",key:"price",align:"center",width:200,render:function(t,e){return t("span",l.default.formatNum(e.row.price,2))}},{title:"金额(未税)",key:"settlementMoney",align:"center",width:200,render:function(t,e){return t("span",l.default.formatNum(e.row.price*e.row.settlementQuantity,2))}},{title:"税率",key:"itemTaxs",align:"center",width:200},{title:"税额",key:"taxMoney",align:"center",width:200,render:function(t,e){return t("span",l.default.formatNum(e.row.price*e.row.settlementQuantity*e.row.itemTax,2))}}],detailData:[],temporaryData:[],temporaryDatas:[],contractColumns:[{title:"订单编号",key:"contractCode"},{title:"订单名称",key:"contractName"},{title:"相对方",key:"purchaserName"},{title:"订单总金额",key:"currencyMoney"}],contractData:[],contractCode:"",contractName:"",arrivalNo:"",demanderName:"",checkDate:"",acceptanceColumns:[{type:"selection",width:60,align:"center",fixed:"left"},{title:"到货验收单号",key:"arrivalNo",width:200},{title:"相对方",key:"demanderName",width:200},{title:"验收日期",key:"checkDate",width:200},{title:"订单编号",key:"contractCode",width:200},{title:"订单名称",key:"contractName",width:200}],detailColumns:[{type:"selection",width:60,align:"center",fixed:"left"},{title:"物资名称",key:"materialName",width:200},{title:"材料规格型号",key:"spectype",width:200},{title:"单位",key:"metricunitName",width:200},{title:"订单数量",key:"needQuantity",width:200},{title:"验收数量",key:"checkQuantity",width:200},{title:"单价(未税)",key:"price",width:200,render:function(t,e){return t("span",l.default.formatNum(e.row.price,2))}},{title:"到货验收单号",key:"arrivalNo",width:200}],directColumns:[{type:"selection",width:60,align:"center",fixed:"left"},{title:"物资名称",key:"materialName",width:200},{title:"材料规格型号",key:"spectype",width:200},{title:"单位",key:"metricunitName",width:100},{title:"开票数量",key:"settlementQuantity",width:150},{title:"单价(未税)",key:"price",width:150,render:function(t,e){return t("span",l.default.formatNum(e.row.price,2))}},{title:"交货日期",key:"deliveryDate",width:150},{title:"税率",key:"itemTaxs",width:100}],directData:[],acceptanceData:[],acceptanceDatas:[],arrivalIds:"",materialName:"",invoiceApplicationStr:{},files:{},contractItemIds:"",arrivalItemIds:""}},mounted:function(){this.init()},watch:{$route:function(){this.init()},filesList:function(t){t.length>=5?this.flieDisabled=!0:this.flieDisabled=!1},detailData:function(t){var e=t.map(function(t){return"number"==typeof t.price?t.price*t.itemTax*t.settlementQuantity:l.default.formatFalNum(t.price)*t.itemTax*t.settlementQuantity}),a=e.reduce(function(t,e){return t+e},0),i=t.map(function(t){return"number"==typeof t.price?t.price*t.settlementQuantity*(1+t.itemTax):l.default.formatFalNum(t.price)*t.settlementQuantity*(1+t.itemTax)}),o=i.reduce(function(t,e){return t+e},0);this.formApplication.taxMoney=a,this.formApplication.invoiceApplyMoney=o}},methods:{init:function(){switch(this.$route.query.applicationState){case 1001:break;case 1002:this.invoiceApplicationId=this.$route.query.invoiceApplicationId,this.invoiceEdit()}},contractInfor:function(){var t=this;this.contractInfoMd=!0,this.loadingMorn=!0,"验收开票"==this.chooseType?this.$httpServer("/invoiceApplication/getContracts.do",{checkMethod:1,condition:this.contractCode}).then(function(e){t.contractData=e,t.loadingMorn=!1}):this.$httpServer("/invoiceApplication/getContracts.do",{checkMethod:0,condition:this.contractCode}).then(function(e){t.contractData=e,t.loadingMorn=!1})},radioFn:function(t,e){this.formApplication.contractId=t.contractId,this.formApplication.contractCode=t.contractCode,this.formApplication.contractName=t.contractName,this.formApplication.contractNo=t.contractNo},searchContract:function(t){this.contractCode=t,this.contractName=t,this.contractInfor()},contractNext:function(){var t=this;""==this.formApplication.contractId?this.$Message.info("未选择订单信息"):(this.contractInfoMd=!1,this.$httpServer("/invoiceApplication/renderInvoiceApplyAdd.do",{contractId:this.formApplication.contractId}).then(function(e){t.formApplication.relativerName=e.relativerName,t.formApplication.relativerId=e.relativerId,t.formApplication.supplierId=e.supplierId,t.formApplication.supplierName=e.supplierName,t.formApplication.supplierCode=e.supplierCompanyCode,t.formApplication.supplierbankName=e.supplierBankName,t.formApplication.supplierbankAccount=e.supplierBankAccount,t.formApplication.suppliercompanyAddr=e.supplierCompanyAddr,t.formApplication.suppliercontactsTel=e.supplierCompanyTel,t.formApplication.purchaserId=e.purchaserId,t.formApplication.purchaserName=e.purchaserName,t.formApplication.purchaserCode=e.purchaserCompanyCode,t.formApplication.purchaserbankName=e.purchaserBankName,t.formApplication.purchaserbankAccount=e.purchaserBankAccount,t.formApplication.purchasercompanyAddr=e.purchaserCompanyAddr,t.formApplication.purchasercontactsTel=e.purchaserCompanyTel,t.purchli=e.invoiceRuleInfos}))},contractDirect:function(){var t=this;if(this.temporaryDatas=[],""==this.formApplication.contractId)this.$Message.info("未选择订单信息");else{1001==this.$route.query.applicationState&&this.contractNext();for(var e=new Array,a=0;a<this.detailData.length;a++)e.push(this.detailData[a].contractItemId);console.log(e),this.contractItemIds=e.toString(),this.contractInfoMd=!1,this.acceptanceDirect=!0,this.$httpServer("/invoiceApplication/getContractItemInfos.do",{contractId:this.formApplication.contractId,contractItemIds:this.contractItemIds,condition:this.materialName}).then(function(e){t.directData=e;for(var a=0;a<t.directData.length;a++)t.directData[a].itemTax=t.directData[a].itemTax,t.directData[a].itemTaxs=100*t.directData[a].itemTax+"%",t.directData[a].settlementQuantity1=t.directData[a].settlementQuantity})}},contractAppend:function(){var t=this;if(this.temporaryDatas=[],""==this.formApplication.contractId)this.$Message.info("未选择订单信息");else{1001==this.$route.query.applicationState&&this.contractNext();for(var e=new Array,a=0;a<this.detailData.length;a++)e.push(this.detailData[a].contractItemId);console.log(e),this.contractItemIds=e.toString(),this.contractInfoMd=!1,this.acceptanceDirect=!0,this.$httpServer("/invoiceApplication/getContractItemAppends.do",{contractId:this.formApplication.contractId,contractItemIds:this.contractItemIds,condition:this.materialName}).then(function(e){t.directData=e;for(var a=0;a<t.directData.length;a++)t.directData[a].itemTax=t.directData[a].itemTax,t.directData[a].itemTaxs=100*t.directData[a].itemTax+"%",t.directData[a].settlementQuantity1=t.directData[a].settlementQuantity})}},acceptanceList:function(){var t=this;""==this.formApplication.contractName?this.$Message.info("未选择订单信息"):this.acceptanceInfoMd=!0,this.$httpServer("/invoiceApplication/getArrivalGoods.do",{contractId:this.formApplication.contractId,condition:this.arrivalNo}).then(function(e){t.acceptanceData=e})},acceptanceSelectChange:function(t){for(var e=new Array,a=new Array,i=0;i<t.length;i++)e.push(t[i].arrivalNo),a.push(t[i].arrivalId);console.log(e),this.formApplication.arrivalNo=e.toString(),this.arrivalIds=a.toString()},searchAcceptance:function(t){this.arrivalNo=t,this.demanderName=t,this.checkDate=t,this.contractCode=t,this.contractName=t,this.acceptanceList()},acceptanceNext:function(){var t=this;if(this.temporaryData=[],""==this.arrivalIds)this.$Message.info("未选择到货验收单");else{for(var e=new Array,a=0;a<this.detailData.length;a++)e.push(this.detailData[a].arrivalItemId);console.log(e),this.arrivalItemIds=e.toString(),this.detailInfoMd=!0,this.acceptanceInfoMd=!1,this.$httpServer("/invoiceApplication/getArrivalGoodsItemInfos.do",{arrivalIds:this.arrivalIds,arrivalGoodsItemIds:this.arrivalItemIds,condition:this.materialName}).then(function(e){t.acceptanceDatas=e})}},acceptanceAppend:function(){var t=this;if(this.temporaryData=[],""==this.arrivalIds)this.$Message.info("未选择到货验收单");else{for(var e=new Array,a=0;a<this.detailData.length;a++)e.push(this.detailData[a].arrivalItemId);console.log(e),this.arrivalItemIds=e.toString(),this.detailInfoMd=!0,this.acceptanceInfoMd=!1,this.$httpServer("/invoiceApplication/getArrivalGoodsItemAppends.do",{invoiceApplicationId:this.invoiceApplicationId,arrivalIds:this.arrivalIds,arrivalGoodsItemIds:this.arrivalItemIds,condition:this.materialName}).then(function(e){t.acceptanceDatas=e})}},searchDetail:function(t){this.materialName=t,this.acceptanceNext(),this.acceptanceAppend()},searchDetails:function(t){this.materialName=t,this.contractDirect(),this.contractAppend()},onSelectChange:function(t){this.temporaryData=t},onSelectChange2:function(t){this.detailDatas=t},sureDetial:function(){if(0==this.temporaryData.length)this.$Message.info("未选择到货明细");else{for(var t=0;t<this.temporaryData.length;t++){var e=0,a=0;this.detailData.push(this.temporaryData[t]),this.temporaryData[t].settlementQuantity=this.temporaryData[t].checkQuantity,this.temporaryData[t].itemTaxs=100*this.temporaryData[t].taxRate+"%",this.temporaryData[t].itemTax=this.temporaryData[t].taxRate,this.temporaryData[t].settlementMoney=this.temporaryData[t].settlementQuantity*this.temporaryData[t].price,this.temporaryData[t].settlementMoneys=this.temporaryData[t].settlementMoney*(1+this.temporaryData[t].itemTax),this.temporaryData[t].taxMoney=this.temporaryData[t].settlementMoneys-this.temporaryData[t].settlementMoney,this.temporaryData[t].taxExclusiveAmount=this.temporaryData[t].settlementMoney,this.temporaryData[t].itemTaxAmount=this.temporaryData[t].taxMoney;for(var i=0;i<this.detailData.length;i++)this.detailData[i].settlementMoneys=this.detailData[i].settlementMoney*(1+this.detailData[i].itemTax),e=Number(e)+Number(this.detailData[i].settlementMoneys),a=Number(a)+Number(this.detailData[i].taxMoney),this.formApplication.invoiceApplyMoney=e,this.formApplication.taxMoney=a}this.detailInfoMd=!1,this.detailDatas=[]}},applicationSave:function(t){var e=this;this.$refs[t].validate(function(t){if(t){if(e.detailData.length<=0)return e.$Message.info("请选择明细"),void(e.loading=!1);e.loading=!0,"验收开票"==e.chooseType?e.chooseType=1:"直接开票"==e.chooseType&&(e.chooseType=0);var a=new FormData;a.append("flag",0),e.invoiceApplicationStr={noticeId:e.invoiceApplicationId,applyMethod:e.chooseType,contractId:e.formApplication.contractId,contractCode:e.formApplication.contractCode,contractNo:e.formApplication.contractNo,contractName:e.formApplication.contractName,arrivalIds:e.arrivalIds,arrivalNos:e.formApplication.arrivalNo,invoiceApplyMoney:e.formApplication.invoiceApplyMoney,noticeStyle:e.formApplication.noticeStyle,invoiceRuleId:e.formApplication.invoiceRuleId,invoiceApplyTaxMoney:e.formApplication.taxMoney,relativerId:e.formApplication.relativerId,relativerName:e.formApplication.relativerName,description:e.formApplication.description,purchaserId:e.formApplication.purchaserId,purchaserName:e.formApplication.purchaserName,companyAddr:e.formApplication.purchasercompanyAddr,contactsTel:e.formApplication.purchasercontactsTel,bankName:e.formApplication.purchaserbankName,bankAccount:e.formApplication.purchaserbankAccount,invoiceTitle:e.formApplication.purchaserName,companyCode:e.formApplication.purchaserCode,supplierId:e.formApplication.supplierId,supplierName:e.formApplication.supplierName,supplierCompanyAddr:e.formApplication.suppliercompanyAddr,supplierCompanyTel:e.formApplication.suppliercontactsTel,supplierBankName:e.formApplication.supplierbankName,supplierBankAccount:e.formApplication.supplierbankAccount,supplierInvoiceTitle:e.formApplication.supplierName,supplierCompanyCode:e.formApplication.supplierCode},a.append("invoiceApplicationStr",(0,n.default)(e.invoiceApplicationStr)),a.append("invoiceApplicationItemStr",(0,n.default)(e.detailData));for(var i=0;i<e.filesList.length;i++)a.append("files",e.filesList[i]);1001==e.$route.query.applicationState?e.$fdServer("/invoiceApplication/addInvoiceApplication.do",a).then(function(t){console.log(t),200==t.status?(e.$Message.success("保存成功"),e.loading=!1,e.backlist()):e.$Message.error("保存失败")}):e.$fdServer("/invoiceApplication/updateInvoiceApplication.do",a).then(function(t){console.log(t),200==t.status?(e.$Message.success("保存成功"),e.loading=!1,e.backlist()):e.$Message.error("保存失败")})}else e.$Message.error("请填写开票申请单!")})},applicationSubimt:function(t){var e=this;if(this.detailData.length<=0)return this.$Message.info("请选择明细"),void(this.loading=!1);this.$refs[t].validate(function(t){if(t){e.loading=!0,"验收开票"==e.chooseType?e.chooseType=1:"直接开票"==e.chooseType&&(e.chooseType=0);var a=new FormData;if(a.append("flag",1),e.invoiceApplicationStr={noticeId:e.invoiceApplicationId,noticeNo:e.formApplication.noticeNo,applyMethod:e.chooseType,contractId:e.formApplication.contractId,contractCode:e.formApplication.contractCode,contractNo:e.formApplication.contractNo,contractName:e.formApplication.contractName,arrivalIds:e.arrivalIds,arrivalNos:e.formApplication.arrivalNo,invoiceApplyMoney:e.formApplication.invoiceApplyMoney,noticeStyle:e.formApplication.noticeStyle,invoiceRuleId:e.formApplication.invoiceRuleId,invoiceApplyTaxMoney:e.formApplication.taxMoney,relativerId:e.formApplication.relativerId,relativerName:e.formApplication.relativerName,description:e.formApplication.description,purchaserId:e.formApplication.purchaserId,purchaserName:e.formApplication.purchaserName,companyAddr:e.formApplication.purchasercompanyAddr,contactsTel:e.formApplication.purchasercontactsTel,bankName:e.formApplication.purchaserbankName,bankAccount:e.formApplication.purchaserbankAccount,invoiceTitle:e.formApplication.purchaserName,companyCode:e.formApplication.purchaserCode,supplierId:e.formApplication.supplierId,supplierName:e.formApplication.supplierName,supplierCompanyAddr:e.formApplication.suppliercompanyAddr,supplierCompanyTel:e.formApplication.suppliercontactsTel,supplierBankName:e.formApplication.supplierbankName,supplierBankAccount:e.formApplication.supplierbankAccount,supplierInvoiceTitle:e.formApplication.supplierName,supplierCompanyCode:e.formApplication.supplierCode},a.append("invoiceApplicationStr",(0,n.default)(e.invoiceApplicationStr)),e.detailData.length<=0)return e.$Message.info("请选择明细"),void(e.loading=!1);a.append("invoiceApplicationItemStr",(0,n.default)(e.detailData));for(var i=0;i<e.filesList.length;i++)a.append("files",e.filesList[i]);1001==e.$route.query.applicationState?e.$fdServer("/invoiceApplication/addInvoiceApplication.do",a).then(function(t){console.log(t),200==t.status?(e.$Message.success("保存成功"),e.loading=!1,e.backlist()):e.$Message.error("保存失败")}):e.$fdServer("/invoiceApplication/updateInvoiceApplication.do",a).then(function(t){console.log(t),200==t.status?(e.$Message.success("保存成功"),e.loading=!1,e.backlist()):e.$Message.error("保存失败")})}else e.$Message.error("请填写开票申请单!")})},backlist:function(){this.$router.go(-1)},deleteFn:function(){0==this.detailDatas.length&&this.$Message.warning("请选择要删除的明细");for(var t=0;t<this.detailDatas.length;t++)for(var e=0;e<this.detailData.length;e++)this.detailData[e].arrivalItemId==this.detailDatas[t].arrivalItemId&&(this.$Message.success("删除成功"),this.detailData.splice(e,this.detailDatas.length));this.detailDatas=[]},deleteFns:function(){0==this.detailDatas.length&&this.$Message.warning("请选择要删除的明细");for(var t=0;t<this.detailDatas.length;t++)for(var e=0;e<this.detailData.length;e++)if(this.detailData[e].contractItemId==this.detailDatas[t].contractItemId&&(this.$Message.success("删除成功"),this.detailData.splice(e,this.detailDatas.length)),0!=this.detailData.length);else this.formApplication.taxMoney=0,this.formApplication.invoiceApplyMoney=0;this.detailDatas=[]},upFile:function(t){t.target.outerHTML=t.target.outerHTML,this.file=t.target.files[0];var e=t.target.files,a=[];Array.prototype.push.apply(a,e);for(var i=0;i<a.length;i++)this.filesList.push(a[i])},delFile:function(t){this.filesList.splice(t,1)},acceptancePrev:function(){this.contractInfoMd=!0,this.acceptanceDirect=!1},onSelectChanges:function(t){this.temporaryDatas=t},acceptanceSure:function(){if(0!=this.temporaryDatas.length){this.detailDatas=[];for(var t=0;t<this.temporaryDatas.length;t++)this.detailData.push(this.temporaryDatas[t]),this.temporaryDatas[t].itemTaxs=100*this.temporaryDatas[t].itemTax+"%",this.temporaryDatas[t].settlementMoney=this.temporaryDatas[t].settlementQuantity*this.temporaryDatas[t].price,this.temporaryDatas[t].settlementMoneys=this.temporaryDatas[t].settlementMoney*(1+this.temporaryDatas[t].itemTax),this.temporaryDatas[t].taxMoney=this.temporaryDatas[t].settlementMoneys-this.temporaryDatas[t].settlementMoney,this.temporaryDatas[t].itemTaxAmount=this.temporaryDatas[t].taxMoney,this.temporaryDatas[t].taxExclusiveAmount=this.temporaryDatas[t].settlementMoney;this.acceptanceDirect=!1}else this.$Message.info("未选择明细")},detailPrev:function(){this.detailInfoMd=!1,this.acceptanceInfoMd=!0},cancel:function(){this.contractInfoMd=!1,this.acceptanceInfoMd=!1},invoiceEdit:function(){var t=this;this.$httpServer("/invoiceApplication/renderInvoiceApplicationUpdate.do",{invoiceApplicationId:this.invoiceApplicationId}).then(function(e){t.purchli=e.invoiceRuleInfos,t.chooseType=e.invoiceNotice.applyMethod,0==t.chooseType?t.chooseType="直接开票":t.chooseType="验收开票",t.formApplication.contractId=e.invoiceNotice.contractId,t.formApplication.contractCode=e.invoiceNotice.contractCode,t.formApplication.contractName=e.invoiceNotice.contractName,t.formApplication.contractNo=e.invoiceNotice.contractNo,t.formApplication.arrivalNo=e.invoiceNotice.arrivalNos,t.formApplication.noticeStyle=e.invoiceNotice.noticeStyle.toString(),t.formApplication.invoiceRuleId=e.invoiceNotice.invoiceRuleId,t.formApplication.invoiceApplyMoney=e.invoiceNotice.invoiceApplyMoney,t.formApplication.taxMoney=e.invoiceNotice.invoiceApplyTaxMoney,t.formApplication.relativerId=e.invoiceNotice.relativerId,t.formApplication.relativerName=e.invoiceNotice.relativerName,t.formApplication.description=e.invoiceNotice.description,t.formApplication.supplierId=e.invoiceNotice.supplierId,t.formApplication.supplierName=e.invoiceNotice.supplierName,t.formApplication.supplierCode=e.invoiceNotice.supplierCompanyCode,t.formApplication.supplierbankName=e.invoiceNotice.supplierBankName,t.formApplication.supplierbankAccount=e.invoiceNotice.supplierBankAccount,t.formApplication.suppliercompanyAddr=e.invoiceNotice.supplierCompanyAddr,t.formApplication.suppliercontactsTel=e.invoiceNotice.supplierCompanyTel,t.formApplication.purchaserId=e.invoiceNotice.purchaserId,t.formApplication.purchaserName=e.invoiceNotice.purchaserName,t.formApplication.purchaserCode=e.invoiceNotice.companyCode,t.formApplication.purchaserbankName=e.invoiceNotice.bankName,t.formApplication.purchaserbankAccount=e.invoiceNotice.bankAccount,t.formApplication.purchasercompanyAddr=e.invoiceNotice.companyAddr,t.formApplication.purchasercontactsTel=e.invoiceNotice.contactsTel,t.formApplication.noticeNo=e.invoiceNotice.noticeNo,t.arrivalIds=e.invoiceNotice.arrivalIds,t.detailData=e.invoiceApplicationItems;for(var a=0;a<t.detailData.length;a++)t.detailData[a].itemTaxs=100*t.detailData[a].itemTax+"%",t.detailData[a].prices=t.detailData[a].price/(1+t.detailData[a].itemTax),t.detailData[a].taxMoney=t.detailData[a].prices*t.detailData[a].itemTax*t.detailData[a].settlementQuantity,t.detailData[a].settlementMoney=t.detailData[a].prices*t.detailData[a].settlementQuantity,t.detailData[a].settlementMoneys=t.detailData[a].settlementMoney*(1+t.detailData[a].itemTax),t.detailData[a].settlementQuantity1=t.detailData[a].needQuantity,t.detailData[a].settlementQuantity=t.detailData[a].needQuantity})}}}},985:function(t,e,a){var i=a(986);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(18)("b96a7dc6",i,!1)},986:function(t,e,a){e=t.exports=a(17)(void 0),e.push([t.i,'\n.margin-top-8 {\n  margin-top: 8px;\n}\n.margin-top-10 {\n  margin-top: 10px;\n}\n.margin-top-20 {\n  margin-top: 20px;\n}\n.margin-left-10 {\n  margin-left: 10px;\n}\n.margin-left-50 {\n  margin-left: 50px;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px;\n}\n.margin-bottom-100 {\n  margin-bottom: 100px;\n}\n.margin-right-10 {\n  margin-right: 10px;\n}\n.margin-right-20 {\n  margin-right: 20px;\n}\n.padding-bottom-10 {\n  padding-bottom: 10px;\n}\n.padding-left-6 {\n  padding-left: 6px;\n}\n.padding-left-8 {\n  padding-left: 5px;\n}\n.padding-left-10 {\n  padding-left: 10px;\n}\n.padding-left-20 {\n  padding-left: 20px;\n}\n.height-100 {\n  height: 100%;\n}\n.height-120px {\n  height: 100px;\n}\n.height-200px {\n  height: 200px;\n}\n.height-492px {\n  height: 492px;\n}\n.height-460px {\n  height: 460px;\n}\n.line-gray {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.notwrap {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.padding-left-5 {\n  padding-left: 10px;\n}\n[v-cloak] {\n  display: none;\n}\n.clearfix:after {\n  content: ".";\n  clear: both;\n  display: block;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n.clearfix {\n  zoom: 1;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.file {\n  position: relative;\n  display: inline-block;\n  background: #D0EEFF;\n  border: 1px solid #99D3F5;\n  border-radius: 4px;\n  padding: 4px 12px;\n  overflow: hidden;\n  color: #1E88C7;\n  text-decoration: none;\n  text-indent: 0;\n  line-height: 20px;\n}\n.file input {\n  position: absolute;\n  font-size: 100px;\n  right: 0;\n  top: 0;\n  opacity: 0;\n}\n.file:hover {\n  background: #AADFFD;\n  border-color: #78C3F3;\n  color: #004974;\n  text-decoration: none;\n}\n.my-upload div table tr {\n  font-size: 12px;\n}\n.greyCol {\n  color: #999;\n}\n.expand-row {\n  margin-bottom: 16px;\n  margin-top: 16px;\n  font-size: 12px;\n}\ntextarea.ivu-input {\n  font-size: 12px;\n}\n.soltTitlel {\n  line-height: 2;\n  padding: 0 16px;\n  margin-left: -16px;\n  margin-right: -19px;\n  font-weight: 900;\n  color: #464c5b;\n}\n.soltTitle {\n  line-height: 1;\n  border-bottom: 1px solid #e3e8ee;\n  padding: 17px 16px;\n  margin-left: -16px;\n  margin-right: -19px;\n  font-weight: 900;\n  color: #464c5b;\n}\n.soltTitlel {\n  line-height: 2;\n  padding: 0 16px;\n  margin-left: -16px;\n  margin-right: -19px;\n  font-weight: 900;\n  color: #464c5b;\n}\ntextarea.ivu-input {\n  font-size: 12px;\n}\n',""])},987:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",{staticClass:"margin-bottom-10",attrs:{bordered:!1}},[a("Row",{attrs:{align:"middle",type:"flex"}},[a("Col",{attrs:{span:"8"}},[1001==this.$route.query.applicationState?a("p",{staticClass:"soltTitlel"},[t._v("新增开票申请")]):a("p",{staticClass:"soltTitlel"},[t._v("编辑开票申请")])]),t._v(" "),a("Col",{attrs:{span:"5",offset:"11"}},[a("Button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.applicationSave("formApplication")}}},[t._v("保存")]),t._v(" "),a("Button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){t.applicationSubimt("formApplication")}}},[t._v("保存并提交")]),t._v(" "),a("Button",{attrs:{type:"ghost"},on:{click:function(e){t.backlist()}}},[t._v("取消")])],1)],1)],1),t._v(" "),a("Card",{staticClass:"margin-bottom-10",attrs:{bordered:!1}},[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"flag"}}),t._v(" 基本信息")],1),t._v(" "),a("Form",{ref:"formApplication",attrs:{model:t.formApplication,rules:t.ruleValidate,"label-position":"top"}},["验收开票"==t.chooseType?a("div",[a("Row",[1001==this.$route.query.applicationState?a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"开票方式"}},[a("RadioGroup",{model:{value:t.chooseType,callback:function(e){t.chooseType=e},expression:"chooseType"}},[a("Radio",{attrs:{label:"验收开票"}}),t._v(" "),a("Radio",{attrs:{label:"直接开票"}})],1)],1)],1):t._e(),t._v(" "),1002==this.$route.query.applicationState?a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"开票方式"}},[a("RadioGroup",{model:{value:t.chooseType,callback:function(e){t.chooseType=e},expression:"chooseType"}},[a("Radio",{attrs:{label:"验收开票",disabled:""}}),t._v(" "),a("Radio",{attrs:{label:"直接开票",disabled:""}})],1)],1)],1):t._e(),t._v(" "),a("Col",{attrs:{span:"11",offset:"2"}},[a("FormItem",{attrs:{label:"订单信息",prop:"contractName"}},[a("Input",{attrs:{readonly:"",icon:"plus-round",placeholder:"请选择订单信息"},on:{"on-focus":function(e){t.contractInfor()}},model:{value:t.formApplication.contractName,callback:function(e){t.$set(t.formApplication,"contractName",e)},expression:"formApplication.contractName"}})],1)],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"到货验收单",prop:"arrivalNo"}},[a("Input",{attrs:{readonly:"",icon:"plus-round",placeholder:"请选择到货验收单"},on:{"on-focus":function(e){t.acceptanceList()}},model:{value:t.formApplication.arrivalNo,callback:function(e){t.$set(t.formApplication,"arrivalNo",e)},expression:"formApplication.arrivalNo"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"11",offset:"2"}},[a("FormItem",{attrs:{label:"开票类型",prop:"noticeStyle"}},[a("Select",{model:{value:t.formApplication.noticeStyle,callback:function(e){t.$set(t.formApplication,"noticeStyle",e)},expression:"formApplication.noticeStyle"}},[a("Option",{attrs:{value:"1"}},[t._v("增值税专用发票")]),t._v(" "),a("Option",{attrs:{value:"2"}},[t._v("增值税普通发票")]),t._v(" "),a("Option",{attrs:{value:"3"}},[t._v("其他")])],1)],1)],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"开票金额"}},[a("Input",{attrs:{placeholder:"开票金额",disabled:""},model:{value:t.formApplication.invoiceApplyMoney,callback:function(e){t.$set(t.formApplication,"invoiceApplyMoney",e)},expression:"formApplication.invoiceApplyMoney"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"11",offset:"2"}},[a("FormItem",{attrs:{label:"税额"}},[a("Input",{attrs:{placeholder:"税额",disabled:""},model:{value:t.formApplication.taxMoney,callback:function(e){t.$set(t.formApplication,"taxMoney",e)},expression:"formApplication.taxMoney"}})],1)],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"相对方"}},[a("Input",{attrs:{placeholder:"相对方",disabled:""},model:{value:t.formApplication.relativerName,callback:function(e){t.$set(t.formApplication,"relativerName",e)},expression:"formApplication.relativerName"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"11",offset:"2"}},[a("FormItem",{attrs:{label:"备注"}},[a("Input",{attrs:{type:"textarea",maxlength:255,placeholder:"备注255个字以内"},model:{value:t.formApplication.description,callback:function(e){t.$set(t.formApplication,"description",e)},expression:"formApplication.description"}})],1)],1)],1)],1):t._e(),t._v(" "),"直接开票"==t.chooseType?a("div",[a("Row",[1001==this.$route.query.applicationState?a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"开票方式"}},[a("RadioGroup",{model:{value:t.chooseType,callback:function(e){t.chooseType=e},expression:"chooseType"}},[a("Radio",{attrs:{label:"验收开票"}}),t._v(" "),a("Radio",{attrs:{label:"直接开票"}})],1)],1)],1):t._e(),t._v(" "),1002==this.$route.query.applicationState?a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"开票方式"}},[a("RadioGroup",{model:{value:t.chooseType,callback:function(e){t.chooseType=e},expression:"chooseType"}},[a("Radio",{attrs:{label:"验收开票",disabled:""}}),t._v(" "),a("Radio",{attrs:{label:"直接开票",disabled:""}})],1)],1)],1):t._e(),t._v(" "),a("Col",{attrs:{span:"11",offset:"2"}},[a("FormItem",{attrs:{label:"订单信息",prop:"contractName"}},[a("Input",{attrs:{readonly:"",icon:"plus-round",placeholder:"请选择订单信息"},on:{"on-focus":function(e){t.contractInfor()}},model:{value:t.formApplication.contractName,callback:function(e){t.$set(t.formApplication,"contractName",e)},expression:"formApplication.contractName"}})],1)],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"开票类型",prop:"noticeStyle"}},[a("Select",{model:{value:t.formApplication.noticeStyle,callback:function(e){t.$set(t.formApplication,"noticeStyle",e)},expression:"formApplication.noticeStyle"}},[a("Option",{attrs:{value:"1"}},[t._v("增值税专用发票")]),t._v(" "),a("Option",{attrs:{value:"2"}},[t._v("增值税普通发票")]),t._v(" "),a("Option",{attrs:{value:"3"}},[t._v("其他")])],1)],1)],1),t._v(" "),a("Col",{attrs:{span:"11",offset:"2"}},[a("FormItem",{attrs:{label:"开票金额"}},[a("Input",{attrs:{placeholder:"开票金额",disabled:""},model:{value:t.formApplication.invoiceApplyMoney,callback:function(e){t.$set(t.formApplication,"invoiceApplyMoney",e)},expression:"formApplication.invoiceApplyMoney"}})],1)],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"税额"}},[a("Input",{attrs:{placeholder:"税额",disabled:""},model:{value:t.formApplication.taxMoney,callback:function(e){t.$set(t.formApplication,"taxMoney",e)},expression:"formApplication.taxMoney"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"11",offset:"2"}},[a("FormItem",{attrs:{label:"相对方"}},[a("Input",{attrs:{placeholder:"相对方",disabled:""},model:{value:t.formApplication.relativerName,callback:function(e){t.$set(t.formApplication,"relativerName",e)},expression:"formApplication.relativerName"}})],1)],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"备注"}},[a("Input",{attrs:{type:"textarea",placeholder:"备注..."},model:{value:t.formApplication.description,callback:function(e){t.$set(t.formApplication,"description",e)},expression:"formApplication.description"}})],1)],1)],1)],1):t._e(),t._v(" "),a("Row",[a("Col",{attrs:{span:"24"}},[a("p",{staticClass:"soltTitle margin-bottom-10"},[a("Icon",{attrs:{type:"flag"}}),t._v(" 购货单位")],1)])],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"购货单位",prop:"purchaserName"}},[a("Input",{attrs:{placeholder:"购货单位"},model:{value:t.formApplication.purchaserName,callback:function(e){t.$set(t.formApplication,"purchaserName",e)},expression:"formApplication.purchaserName"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"11",offset:"2"}},[a("FormItem",{attrs:{label:"纳税识别号",prop:"purchaserCode"}},[a("Input",{attrs:{placeholder:"纳税识别号"},model:{value:t.formApplication.purchaserCode,callback:function(e){t.$set(t.formApplication,"purchaserCode",e)},expression:"formApplication.purchaserCode"}})],1)],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"开户行",prop:"purchaserbankName"}},[a("Input",{attrs:{placeholder:"开户行"},model:{value:t.formApplication.purchaserbankName,callback:function(e){t.$set(t.formApplication,"purchaserbankName",e)},expression:"formApplication.purchaserbankName"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"11",offset:"2"}},[a("FormItem",{attrs:{label:"开户账号",prop:"purchaserbankAccount"}},[a("Input",{attrs:{placeholder:"开户账号"},model:{value:t.formApplication.purchaserbankAccount,callback:function(e){t.$set(t.formApplication,"purchaserbankAccount",e)},expression:"formApplication.purchaserbankAccount"}})],1)],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"地址",prop:"purchasercompanyAddr"}},[a("Input",{attrs:{placeholder:"地址"},model:{value:t.formApplication.purchasercompanyAddr,callback:function(e){t.$set(t.formApplication,"purchasercompanyAddr",e)},expression:"formApplication.purchasercompanyAddr"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"11",offset:"2"}},[a("FormItem",{attrs:{label:"电话",prop:"purchasercontactsTel"}},[a("Input",{attrs:{placeholder:"电话"},model:{value:t.formApplication.purchasercontactsTel,callback:function(e){t.$set(t.formApplication,"purchasercontactsTel",e)},expression:"formApplication.purchasercontactsTel"}})],1)],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"24"}},[a("p",{staticClass:"soltTitle margin-bottom-10"},[a("Icon",{attrs:{type:"flag"}}),t._v(" 销货单位")],1)])],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"销货单位"}},[a("Input",{attrs:{placeholder:"销货单位",disabled:""},model:{value:t.formApplication.supplierName,callback:function(e){t.$set(t.formApplication,"supplierName",e)},expression:"formApplication.supplierName"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"11",offset:"2"}},[a("FormItem",{attrs:{label:"纳税识别号"}},[a("Input",{attrs:{placeholder:"纳税识别号",disabled:""},model:{value:t.formApplication.supplierCode,callback:function(e){t.$set(t.formApplication,"supplierCode",e)},expression:"formApplication.supplierCode"}})],1)],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"开户行"}},[a("Input",{attrs:{placeholder:"开户行",disabled:""},model:{value:t.formApplication.supplierbankName,callback:function(e){t.$set(t.formApplication,"supplierbankName",e)},expression:"formApplication.supplierbankName"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"11",offset:"2"}},[a("FormItem",{attrs:{label:"银行账号"}},[a("Input",{attrs:{placeholder:"银行账号",disabled:""},model:{value:t.formApplication.supplierbankAccount,callback:function(e){t.$set(t.formApplication,"supplierbankAccount",e)},expression:"formApplication.supplierbankAccount"}})],1)],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{label:"地址"}},[a("Input",{attrs:{placeholder:"地址",disabled:""},model:{value:t.formApplication.suppliercompanyAddr,callback:function(e){t.$set(t.formApplication,"suppliercompanyAddr",e)},expression:"formApplication.suppliercompanyAddr"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"11",offset:"2"}},[a("FormItem",{attrs:{label:"电话"}},[a("Input",{attrs:{placeholder:"电话",disabled:""},model:{value:t.formApplication.suppliercontactsTel,callback:function(e){t.$set(t.formApplication,"suppliercontactsTel",e)},expression:"formApplication.suppliercontactsTel"}})],1)],1)],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"24"}},[a("p",{staticClass:"soltTitle margin-bottom-10"},[a("Icon",{attrs:{type:"flag"}}),t._v("开票明细\n                        "),"验收开票"==t.chooseType?a("a",{staticClass:"fr",attrs:{href:"javascript:;"},on:{click:function(e){t.deleteFn()}}},[a("Icon",{attrs:{type:"trash-a"}}),t._v(" 删除")],1):t._e(),t._v(" "),"直接开票"==t.chooseType?a("a",{staticClass:"fr",attrs:{href:"javascript:;"},on:{click:function(e){t.deleteFns()}}},[a("Icon",{attrs:{type:"trash-a"}}),t._v(" 删除")],1):t._e(),t._v(" "),"直接开票"==t.chooseType?a("a",{staticClass:"fr margin-right-20",attrs:{href:"javascript:;"},on:{click:function(e){t.contractAppend()}}},[a("Icon",{attrs:{type:"plus"}}),t._v(" 添加")],1):t._e(),t._v(" "),"验收开票"==t.chooseType?a("a",{staticClass:"fr margin-right-20",attrs:{href:"javascript:;"},on:{click:function(e){t.acceptanceAppend()}}},[a("Icon",{attrs:{type:"plus"}}),t._v(" 添加")],1):t._e()],1)]),t._v(" "),a("Col",{attrs:{span:"24"}},[a("Table",{ref:"selection",attrs:{size:"small",height:"200",border:"",columns:t.columns2,data:t.detailData},on:{"on-selection-change":t.onSelectChange2}})],1)],1)],1),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,title:"订单信息",width:"50%"},on:{"on-cancel":t.cancel},model:{value:t.contractInfoMd,callback:function(e){t.contractInfoMd=e},expression:"contractInfoMd"}},[a("div",{staticStyle:{width:"90%"},attrs:{slot:"header"},slot:"header"},[a("Row",[a("Col",{attrs:{span:8}},[a("AutoComplete",{staticStyle:{width:"300px",float:"left"},attrs:{icon:"ios-search",placeholder:"订单编号/订单名称"},on:{"on-search":t.searchContract}})],1)],1)],1),t._v(" "),a("div",{staticClass:"contant"},[a("Table",{attrs:{columns:t.contractColumns,data:t.contractData,loading:t.loadingMorn,height:"329","highlight-row":""},on:{"on-current-change":t.radioFn}})],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},["直接开票"==t.chooseType?a("Button",{attrs:{type:"primary",loading:t.modal_loading},on:{click:function(e){t.contractDirect()}}},[t._v("下一步")]):t._e(),t._v(" "),"验收开票"==t.chooseType?a("Button",{attrs:{type:"primary",loading:t.modal_loading},on:{click:function(e){t.contractNext()}}},[t._v("确定")]):t._e(),t._v(" "),a("Button",{attrs:{type:"ghost",loading:t.modal_loading},on:{click:function(e){t.contractInfoMd=!1}}},[t._v("取消")])],1)]),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,title:"直接开票",width:"50%"},on:{"on-cancel":t.cancel},model:{value:t.acceptanceDirect,callback:function(e){t.acceptanceDirect=e},expression:"acceptanceDirect"}},[a("div",{staticStyle:{width:"90%"},attrs:{slot:"header"},slot:"header"},[a("Row",[a("Col",{attrs:{span:8}},[a("AutoComplete",{staticStyle:{width:"300px",float:"left"},attrs:{icon:"ios-search",placeholder:"需求单位/物资名称"},on:{"on-search":t.searchDetails}})],1)],1)],1),t._v(" "),a("div",{staticClass:"contant"},[a("Table",{attrs:{columns:t.directColumns,data:t.directData,height:"200"},on:{"on-selection-change":t.onSelectChanges}})],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",loading:t.modal_loading},on:{click:function(e){t.acceptancePrev()}}},[t._v("上一步")]),t._v(" "),a("Button",{attrs:{type:"primary",loading:t.modal_loading},on:{click:function(e){t.acceptanceSure()}}},[t._v("确定")]),t._v(" "),a("Button",{attrs:{type:"ghost",loading:t.modal_loading},on:{click:function(e){t.acceptanceDirect=!1}}},[t._v("取消")])],1)]),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,title:"到货验收单信息",width:"50%"},on:{"on-cancel":t.cancel},model:{value:t.acceptanceInfoMd,callback:function(e){t.acceptanceInfoMd=e},expression:"acceptanceInfoMd"}},[a("div",{staticStyle:{width:"90%"},attrs:{slot:"header"},slot:"header"},[a("Row",[a("Col",{attrs:{span:8}},[a("AutoComplete",{staticStyle:{width:"300px",float:"left"},attrs:{icon:"ios-search",placeholder:"单号/需求单位/验收日期/订单编号/订单名称"},on:{"on-search":t.searchAcceptance}})],1)],1)],1),t._v(" "),a("div",{staticClass:"contant"},[a("Table",{attrs:{columns:t.acceptanceColumns,data:t.acceptanceData,height:"200"},on:{"on-selection-change":t.acceptanceSelectChange}})],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",loading:t.modal_loading},on:{click:function(e){t.acceptanceNext()}}},[t._v("下一步")]),t._v(" "),a("Button",{attrs:{type:"ghost",loading:t.modal_loading},on:{click:function(e){t.acceptanceInfoMd=!1}}},[t._v("取消")])],1)]),t._v(" "),a("Modal",{attrs:{"mask-closable":!1,title:"明细信息",width:"50%"},on:{"on-cancel":t.cancel},model:{value:t.detailInfoMd,callback:function(e){t.detailInfoMd=e},expression:"detailInfoMd"}},[a("div",{staticStyle:{width:"90%"},attrs:{slot:"header"},slot:"header"},[a("Row",[a("Col",{attrs:{span:8}},[a("AutoComplete",{staticStyle:{width:"300px",float:"left"},attrs:{icon:"ios-search",placeholder:"物资名称"},on:{"on-search":t.searchDetail}})],1)],1)],1),t._v(" "),a("div",{staticClass:"contant"},[a("Table",{attrs:{columns:t.detailColumns,data:t.acceptanceDatas},on:{"on-selection-change":t.onSelectChange}})],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",loading:t.modal_loading},on:{click:function(e){t.detailPrev()}}},[t._v("上一步")]),t._v(" "),a("Button",{attrs:{type:"primary",loading:t.modal_loading},on:{click:function(e){t.sureDetial()}}},[t._v("确定")]),t._v(" "),a("Button",{attrs:{type:"ghost",loading:t.modal_loading},on:{click:function(e){t.detailInfoMd=!1}}},[t._v("取消")])],1)])],1)],1)},o=[];i._withStripped=!0;var n={render:i,staticRenderFns:o};e.default=n}});