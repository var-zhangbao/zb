webpackJsonp([15,30],{1055:function(e,t,n){var o=n(1056);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(18)("043c5f78",o,!1)},1056:function(e,t,n){t=e.exports=n(17)(void 0),t.push([e.i,'\n.margin-top-8 {\n  margin-top: 8px;\n}\n.margin-top-10 {\n  margin-top: 10px;\n}\n.margin-top-20 {\n  margin-top: 20px;\n}\n.margin-left-10 {\n  margin-left: 10px;\n}\n.margin-left-50 {\n  margin-left: 50px;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px;\n}\n.margin-bottom-100 {\n  margin-bottom: 100px;\n}\n.margin-right-10 {\n  margin-right: 10px;\n}\n.margin-right-20 {\n  margin-right: 20px;\n}\n.padding-bottom-10 {\n  padding-bottom: 10px;\n}\n.padding-left-6 {\n  padding-left: 6px;\n}\n.padding-left-8 {\n  padding-left: 5px;\n}\n.padding-left-10 {\n  padding-left: 10px;\n}\n.padding-left-20 {\n  padding-left: 20px;\n}\n.height-100 {\n  height: 100%;\n}\n.height-120px {\n  height: 100px;\n}\n.height-200px {\n  height: 200px;\n}\n.height-492px {\n  height: 492px;\n}\n.height-460px {\n  height: 460px;\n}\n.line-gray {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.notwrap {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.padding-left-5 {\n  padding-left: 10px;\n}\n[v-cloak] {\n  display: none;\n}\n.clearfix:after {\n  content: ".";\n  clear: both;\n  display: block;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n.clearfix {\n  zoom: 1;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.file {\n  position: relative;\n  display: inline-block;\n  background: #D0EEFF;\n  border: 1px solid #99D3F5;\n  border-radius: 4px;\n  padding: 4px 12px;\n  overflow: hidden;\n  color: #1E88C7;\n  text-decoration: none;\n  text-indent: 0;\n  line-height: 20px;\n}\n.file input {\n  position: absolute;\n  font-size: 100px;\n  right: 0;\n  top: 0;\n  opacity: 0;\n}\n.file:hover {\n  background: #AADFFD;\n  border-color: #78C3F3;\n  color: #004974;\n  text-decoration: none;\n}\n.my-upload div table tr {\n  font-size: 12px;\n}\n.greyCol {\n  color: #999;\n}\n.expand-row {\n  margin-bottom: 16px;\n  margin-top: 16px;\n  font-size: 12px;\n}\ntextarea.ivu-input {\n  font-size: 12px;\n}\n.soltTitlel {\n  line-height: 2;\n  padding: 0 16px;\n  margin-left: -16px;\n  margin-right: -19px;\n  font-weight: 900;\n  color: #464c5b;\n}\n.soltTitlel {\n  line-height: 2;\n  padding: 0 16px;\n  margin-left: -16px;\n  margin-right: -19px;\n  font-weight: 900;\n  color: #464c5b;\n}\n',""])},1057:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("outputCompany",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{defaultDeliver:e.myDefault},on:{message2:e.myOutputCompany}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isHide,expression:"isHide"}]},[n("Card",{staticClass:"margin-bottom-10"},[n("Row",{attrs:{align:"middle",type:"flex"}},[n("Col",{attrs:{span:"8"}},[1001==this.$route.query.ruleState?n("p",{staticClass:"soltTitlel"},[e._v("新增开票规则")]):n("p",{staticClass:"soltTitlel"},[e._v("编辑开票规则")])]),e._v(" "),n("Col",{attrs:{span:"5",offset:"11"}},[n("Button",{attrs:{type:"primary"},on:{click:function(t){e.saveRule("formRules")}}},[e._v("保存")]),e._v(" "),n("Button",{attrs:{type:"ghost"},on:{click:function(t){e.backlist()}}},[e._v("取消")])],1)],1)],1),e._v(" "),n("Card",{staticClass:"margin-bottom-10",attrs:{bordered:!1}},[n("p",{attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"flag"}}),e._v(" 开票规则")],1),e._v(" "),n("Form",{ref:"formRules",attrs:{model:e.formRules,rules:e.ruleValidate,"label-position":"top"}},[n("Row",[n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"规则模板名称",prop:"ruleName"}},[n("Input",{attrs:{placeholder:"规则模板名称"},model:{value:e.formRules.ruleName,callback:function(t){e.$set(e.formRules,"ruleName",t)},expression:"formRules.ruleName"}})],1)],1),e._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("FormItem",{attrs:{label:"是否有销货清单",prop:"haveSalesBill"}},[n("Select",{model:{value:e.formRules.haveSalesBill,callback:function(t){e.$set(e.formRules,"haveSalesBill",t)},expression:"formRules.haveSalesBill"}},[n("Option",{attrs:{value:"是"}},[e._v("是")]),e._v(" "),n("Option",{attrs:{value:"否"}},[e._v("否")])],1)],1)],1)],1),e._v(" "),n("Row",["是"==this.formRules.haveSalesBill?n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"发票明细限制行数"}},[n("Input",{attrs:{placeholder:"发票明细限制行数(最多8行)",disabled:""},model:{value:e.formRules.invoiceItemLimit,callback:function(t){e.$set(e.formRules,"invoiceItemLimit",t)},expression:"formRules.invoiceItemLimit"}})],1)],1):n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"发票明细限制行数",prop:"invoiceItemLimit"}},[n("Input",{attrs:{placeholder:"发票明细限制行数(最多8行)"},model:{value:e.formRules.invoiceItemLimit,callback:function(t){e.$set(e.formRules,"invoiceItemLimit",t)},expression:"formRules.invoiceItemLimit"}})],1)],1),e._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("FormItem",{attrs:{label:"按相同品类合并",prop:"itemMerge"}},[n("Select",{model:{value:e.formRules.itemMerge,callback:function(t){e.$set(e.formRules,"itemMerge",t)},expression:"formRules.itemMerge"}},[n("Option",{attrs:{value:"是"}},[e._v("是")]),e._v(" "),n("Option",{attrs:{value:"否"}},[e._v("否")])],1)],1)],1)],1),e._v(" "),n("Row",[n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"票面限制金额",prop:"invoiceLimitMoney"}},[n("Input",{attrs:{placeholder:"票面限制金额"},model:{value:e.formRules.invoiceLimitMoney,callback:function(t){e.$set(e.formRules,"invoiceLimitMoney",t)},expression:"formRules.invoiceLimitMoney"}})],1)],1),e._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("FormItem",{attrs:{label:"模板适用客户",prop:"companyName"}},[n("Input",{attrs:{placeholder:"模板适用客户",disabled:""},model:{value:e.formRules.companyName,callback:function(t){e.$set(e.formRules,"companyName",t)},expression:"formRules.companyName"}},[n("Button",{attrs:{slot:"append",type:"ghost"},on:{click:e.openAcceptance},slot:"append"},[n("Icon",{attrs:{type:"plus"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)},a=[];o._withStripped=!0;var i={render:o,staticRenderFns:a};t.default=i},254:function(e,t,n){"use strict";function o(e){p||n(427)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(378),i=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r);var s=n(429),l=n.n(s),p=!1,m=n(1),c=o,d=m(i.a,l.a,!1,c,null,null);d.options.__file="src/views/tickets/outputCompany.vue",t.default=d.exports},282:function(e,t,n){"use strict";function o(e){p||n(1055)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(564),i=n.n(a);for(var r in a)"default"!==r&&function(e){n.d(t,e,function(){return a[e]})}(r);var s=n(1057),l=n.n(s),p=!1,m=n(1),c=o,d=m(i.a,l.a,!1,c,null,null);d.options.__file="src/views/tickets/ruleAdd.vue",t.default=d.exports},378:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i=(o(a),n(10));o(i);t.default={name:"",props:{defaultDeliver:{type:String}},data:function(){return{vertical:"apple",myjson:{},getCompanys:[],outputCompanyId:"",single:!1,unitsMd:!1,unitsEdit:!1,modal_loading:!1,ruleValidates:{companyName:[{required:!0,message:"请输入单位名称",trigger:"blur"}],companyCode:[{required:!0,message:"请输入纳税人识别号",trigger:"blur"}],companyBank:[{required:!0,message:"请输入开户行",trigger:"blur"}],companyBankAccount:[{required:!0,message:"请输入银行账号",trigger:"blur"}],companyAddress:[{required:!0,message:"请输入地址",trigger:"blur"}],companyTel:[{required:!0,message:"请输入电话",trigger:"blur"}]},addForm:{companyName:"",companyCode:"",companyBank:"",companyBankAccount:"",companyAddress:"",companyTel:""},editForm:{companyName:"",companyCode:"",companyBank:"",companyBankAccount:"",companyAddress:"",companyTel:""},ruleId:"",typeSelsect:!0,formRules:{ruleName:"",companyId:"",companyName:"",haveSalesBill:"",invoiceItemLimit:"",itemMerge:"",invoiceLimitMoney:"",isDisabled:!1},purchli:[],ruleValidate:{ruleName:[{required:!0,message:"规则模板名称不能为空",trigger:"blur"}],haveSalesBill:[{required:!0,message:"请选择销货清单",trigger:"change"}],invoiceItemLimit:[{required:!0,message:"发票明细限制行数请输入小于8的正整数数字",trigger:"blur",pattern:/^(([1-8])|(8))$/}],itemMerge:[{required:!0,message:"请选择相同品类合并",trigger:"change"}],invoiceLimitMoney:[{required:!0,message:"票面限制金额请输入数字",trigger:"blur",pattern:/^[0-9]*$/}],companyName:[{required:!0,message:"请选择模板适用客户",trigger:"blur"}]}}},mounted:function(){this.purchlist()},methods:{purchlist:function(){var e=this;this.$httpServer("/outputCompany/getOutputCompanys.do",{companyType:0}).then(function(t){e.getCompanys=t})},select:function(e){console.log(e),this.formRules.companyId=e.value,this.formRules.companyName=e.label},addUnits:function(e){var t=this;this.$refs[e].validate(function(e){e?(t.unitsMd=!1,t.$httpServer("/outputCompany/addOutputCompany.do",{companyName:t.addForm.companyName,companyCode:t.addForm.companyCode,companyBank:t.addForm.companyBank,companyBankAccount:t.addForm.companyBankAccount,companyAddress:t.addForm.companyAddress,companyTel:t.addForm.companyTel,companyType:0}).then(function(e){return t.$Message.success("保存成功"),t.purchlist(),t.addForm={}})):t.$Message.error("请填写模板适用客户信息!")})},editUnits:function(e){var t=this;this.unitsEdit=!0,this.$refs.editForm.resetFields(),this.outputCompanyId=e,this.$httpServer("/outputCompany/getOutputCompanyById.do",{outputCompanyId:e}).then(function(e){console.log(e),t.editForm.companyName=e.companyName,t.editForm.companyCode=e.companyCode,t.editForm.companyBank=e.companyBank,t.editForm.companyBankAccount=e.companyBankAccount,t.editForm.companyAddress=e.companyAddress,t.editForm.companyTel=e.companyTel})},updateUnits:function(e){var t=this;this.$refs.editForm.validate(function(e){e?(t.unitsEdit=!1,t.$httpServer("/outputCompany/updateOutputCompany.do",{id:t.outputCompanyId,companyName:t.editForm.companyName,companyCode:t.editForm.companyCode,companyBank:t.editForm.companyBank,companyBankAccount:t.editForm.companyBankAccount,companyAddress:t.editForm.companyAddress,companyTel:t.editForm.companyTel,companyType:0}).then(function(e){console.log(e),t.$Message.success("维护成功!"),t.purchlist()})):t.$Message.error("请填写模板适用客户信息!")})},deleteUnits:function(e){var t=this;this.$httpServer("/outputCompany/deleteOutputCompany.do",{outputCompanyId:e}).then(function(e){console.log(e),t.$Message.success("删除成功!"),t.purchlist()})},onChangeRadio:function(e){console.log(e);for(var t=0;t<this.getCompanys.length;t++)this.getCompanys[t].id==e&&(this.myjson=this.getCompanys[t]);console.log(this.myjson)},sureAcceptance:function(){this.$emit("message2",this.myjson,this.defaultDeliver),this.formRules.companyId=this.myjson.id,this.formRules.companyName=this.myjson.companyName},acceptanceInfoMd:function(){this.$emit("message2",this.myjson,this.defaultDeliver),this.formRules.companyId=this.myjson.id,this.formRules.companyName=this.myjson.companyName},backlist:function(){this.$router.go(-1)},unitsMds:function(){this.$refs.addForm.resetFields(),this.unitsMd=!0}}}},427:function(e,t,n){var o=n(428);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(18)("bc7dc256",o,!1)},428:function(e,t,n){t=e.exports=n(17)(void 0),t.push([e.i,'\n.margin-top-8 {\n  margin-top: 8px;\n}\n.margin-top-10 {\n  margin-top: 10px;\n}\n.margin-top-20 {\n  margin-top: 20px;\n}\n.margin-left-10 {\n  margin-left: 10px;\n}\n.margin-left-50 {\n  margin-left: 50px;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px;\n}\n.margin-bottom-100 {\n  margin-bottom: 100px;\n}\n.margin-right-10 {\n  margin-right: 10px;\n}\n.margin-right-20 {\n  margin-right: 20px;\n}\n.padding-bottom-10 {\n  padding-bottom: 10px;\n}\n.padding-left-6 {\n  padding-left: 6px;\n}\n.padding-left-8 {\n  padding-left: 5px;\n}\n.padding-left-10 {\n  padding-left: 10px;\n}\n.padding-left-20 {\n  padding-left: 20px;\n}\n.height-100 {\n  height: 100%;\n}\n.height-120px {\n  height: 100px;\n}\n.height-200px {\n  height: 200px;\n}\n.height-492px {\n  height: 492px;\n}\n.height-460px {\n  height: 460px;\n}\n.line-gray {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.notwrap {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.padding-left-5 {\n  padding-left: 10px;\n}\n[v-cloak] {\n  display: none;\n}\n.clearfix:after {\n  content: ".";\n  clear: both;\n  display: block;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n.clearfix {\n  zoom: 1;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.file {\n  position: relative;\n  display: inline-block;\n  background: #D0EEFF;\n  border: 1px solid #99D3F5;\n  border-radius: 4px;\n  padding: 4px 12px;\n  overflow: hidden;\n  color: #1E88C7;\n  text-decoration: none;\n  text-indent: 0;\n  line-height: 20px;\n}\n.file input {\n  position: absolute;\n  font-size: 100px;\n  right: 0;\n  top: 0;\n  opacity: 0;\n}\n.file:hover {\n  background: #AADFFD;\n  border-color: #78C3F3;\n  color: #004974;\n  text-decoration: none;\n}\n.my-upload div table tr {\n  font-size: 12px;\n}\n.greyCol {\n  color: #999;\n}\n.expand-row {\n  margin-bottom: 16px;\n  margin-top: 16px;\n  font-size: 12px;\n}\ntextarea.ivu-input {\n  font-size: 12px;\n}\n.soltTitlel {\n  line-height: 2;\n  padding: 0 16px;\n  margin-left: -16px;\n  margin-right: -19px;\n  font-weight: 900;\n  color: #464c5b;\n}\n.expand-row {\n  margin-bottom: 16px;\n  margin-top: 16px;\n}\n.soltTitlel {\n  line-height: 2;\n  padding: 0 16px;\n  margin-left: -16px;\n  margin-right: -19px;\n  font-weight: 900;\n  color: #464c5b;\n}\n',""])},429:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"receiveAddress"},[n("Card",{staticClass:"margin-bottom-10"},[n("Row",{attrs:{align:"middle",type:"flex"}},[n("Col",{attrs:{span:"8"}},[n("p",{staticClass:"soltTitlel"},[e._v("模板适用客户信息")])]),e._v(" "),n("Col",{attrs:{span:"5",offset:"11"}},[n("Button",{staticClass:"fr",attrs:{type:"primary"},on:{click:function(t){e.unitsMds()}}},[n("Icon",{attrs:{type:"plus"}}),e._v("  新建")],1)],1)],1)],1),e._v(" "),n("Card",[n("div",[n("RadioGroup",{staticStyle:{width:"100%"},attrs:{vertical:""},on:{"on-change":e.onChangeRadio},model:{value:e.vertical,callback:function(t){e.vertical=t},expression:"vertical"}},e._l(e.getCompanys,function(t,o){return n("Row",{key:t.id,staticClass:"code-row-bg",attrs:{type:"flex",justify:"center",align:"middle"}},[n("Col",{attrs:{span:"1"}},[n("Radio",{attrs:{label:t.id,size:"large"}},[n("i",{staticStyle:{display:"none"}},[e._v(" "+e._s(t.id))])])],1),e._v(" "),n("Col",{attrs:{span:"23"}},[n("Row",{staticClass:"expand-row"},[n("Col",{attrs:{span:"11"}},[n("Col",{attrs:{span:"11",offset:"2"}},[e._v("模板适用单位:")]),e._v(" "),n("Col",{attrs:{span:"11"}},[e._v(e._s(t.companyName))])],1),e._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("Col",{attrs:{span:"11",offset:"2"}},[e._v("纳税人识别号: ")]),e._v(" "),n("Col",{attrs:{span:"11"}},[e._v(e._s(t.companyCode))])],1)],1),e._v(" "),n("Row",{staticClass:"expand-row"},[n("Col",{attrs:{span:"11"}},[n("Col",{attrs:{span:"11",offset:"2"}},[e._v("开户行:")]),e._v(" "),n("Col",{attrs:{span:"11"}},[e._v(e._s(t.companyBank))])],1),e._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("Col",{attrs:{span:"11",offset:"2"}},[e._v("银行账号: ")]),e._v(" "),n("Col",{attrs:{span:"11"}},[e._v(e._s(t.companyBankAccount))])],1)],1),e._v(" "),n("Row",{},[n("Col",{attrs:{span:"11"}},[n("Col",{attrs:{span:"11",offset:"2"}},[e._v("地址:")]),e._v(" "),n("Col",{attrs:{span:"11"}},[e._v(e._s(t.companyAddress))])],1),e._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("Col",{attrs:{span:"11",offset:"2"}},[e._v("电话: ")]),e._v(" "),n("Col",{attrs:{span:"11"}},[e._v(e._s(t.companyTel))])],1)],1),e._v(" "),n("Row",{attrs:{type:"flex",justify:"end"}},[n("Col",{attrs:{span:"2"}},[n("Button",{staticStyle:{color:"#2d8cf0"},attrs:{type:"text"},on:{click:function(n){e.editUnits(t.id)}}},[e._v("编辑")])],1),e._v(" "),n("Col",{attrs:{span:"2"}},[n("Button",{staticStyle:{color:"#2d8cf0"},attrs:{type:"text"},on:{click:function(n){e.deleteUnits(t.id)}}},[e._v("删除")])],1)],1)],1)],1)}))],1),e._v(" "),n("div",{staticClass:"margin-top-20"},[n("Row",{staticClass:"code-row-bg",attrs:{type:"flex",justify:"end"}},[n("Col",{attrs:{span:"2"}},[n("Button",{attrs:{type:"primary",loading:e.modal_loading},on:{click:function(t){e.sureAcceptance()}}},[e._v("确定")])],1),e._v(" "),n("Col",{attrs:{span:"2"}},[n("Button",{attrs:{type:"ghost",loading:e.modal_loading},on:{click:function(t){e.acceptanceInfoMd()}}},[e._v("取消")])],1)],1)],1)]),e._v(" "),n("Modal",{attrs:{title:"新增模板",width:"50%"},model:{value:e.unitsMd,callback:function(t){e.unitsMd=t},expression:"unitsMd"}},[n("Form",{ref:"addForm",attrs:{model:e.addForm,rules:e.ruleValidates,"label-position":"top"}},[n("Row",[n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"单位名称",prop:"companyName"}},[n("Input",{attrs:{placeholder:"单位名称"},model:{value:e.addForm.companyName,callback:function(t){e.$set(e.addForm,"companyName",t)},expression:"addForm.companyName"}})],1)],1),e._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("FormItem",{attrs:{label:"纳税人识别号",prop:"companyCode"}},[n("Input",{attrs:{placeholder:"纳税人识别号"},model:{value:e.addForm.companyCode,callback:function(t){e.$set(e.addForm,"companyCode",t)},expression:"addForm.companyCode"}})],1)],1)],1),e._v(" "),n("Row",[n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"开户行",prop:"companyBank"}},[n("Input",{attrs:{placeholder:"开户行"},model:{value:e.addForm.companyBank,callback:function(t){e.$set(e.addForm,"companyBank",t)},expression:"addForm.companyBank"}})],1)],1),e._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("FormItem",{attrs:{label:"银行账号",prop:"companyBankAccount"}},[n("Input",{attrs:{placeholder:"银行账号"},model:{value:e.addForm.companyBankAccount,callback:function(t){e.$set(e.addForm,"companyBankAccount",t)},expression:"addForm.companyBankAccount"}})],1)],1)],1),e._v(" "),n("Row",[n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"地址",prop:"companyAddress"}},[n("Input",{attrs:{placeholder:"地址"},model:{value:e.addForm.companyAddress,callback:function(t){e.$set(e.addForm,"companyAddress",t)},expression:"addForm.companyAddress"}})],1)],1),e._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("FormItem",{attrs:{label:"电话",prop:"companyTel"}},[n("Input",{attrs:{placeholder:"电话"},model:{value:e.addForm.companyTel,callback:function(t){e.$set(e.addForm,"companyTel",t)},expression:"addForm.companyTel"}})],1)],1)],1)],1),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"primary"},on:{click:function(t){e.addUnits("addForm")}}},[e._v("确认")]),e._v(" "),n("Button",{attrs:{type:"ghost"},on:{click:function(t){e.unitsMd=!1}}},[e._v("取消")])],1)],1),e._v(" "),n("Modal",{attrs:{title:"维护模板",width:"50%"},model:{value:e.unitsEdit,callback:function(t){e.unitsEdit=t},expression:"unitsEdit"}},[n("Form",{ref:"editForm",attrs:{model:e.editForm,rules:e.ruleValidates,"label-position":"top"}},[n("Row",[n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"单位名称",prop:"companyName"}},[n("Input",{attrs:{placeholder:"单位名称"},model:{value:e.editForm.companyName,callback:function(t){e.$set(e.editForm,"companyName",t)},expression:"editForm.companyName"}})],1)],1),e._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("FormItem",{attrs:{label:"纳税人识别号",prop:"companyCode"}},[n("Input",{attrs:{placeholder:"纳税人识别号"},model:{value:e.editForm.companyCode,callback:function(t){e.$set(e.editForm,"companyCode",t)},expression:"editForm.companyCode"}})],1)],1)],1),e._v(" "),n("Row",[n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"开户行",prop:"companyBank"}},[n("Input",{attrs:{placeholder:"开户行"},model:{value:e.editForm.companyBank,callback:function(t){e.$set(e.editForm,"companyBank",t)},expression:"editForm.companyBank"}})],1)],1),e._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("FormItem",{attrs:{label:"银行账号",prop:"companyBankAccount"}},[n("Input",{attrs:{placeholder:"银行账号"},model:{value:e.editForm.companyBankAccount,callback:function(t){e.$set(e.editForm,"companyBankAccount",t)},expression:"editForm.companyBankAccount"}})],1)],1)],1),e._v(" "),n("Row",[n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"地址",prop:"companyAddress"}},[n("Input",{attrs:{placeholder:"地址"},model:{value:e.editForm.companyAddress,callback:function(t){e.$set(e.editForm,"companyAddress",t)},expression:"editForm.companyAddress"}})],1)],1),e._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("FormItem",{attrs:{label:"电话",prop:"companyTel"}},[n("Input",{attrs:{placeholder:"电话"},model:{value:e.editForm.companyTel,callback:function(t){e.$set(e.editForm,"companyTel",t)},expression:"editForm.companyTel"}})],1)],1)],1)],1),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"primary"},on:{click:function(t){e.updateUnits()}}},[e._v("确认")]),e._v(" "),n("Button",{attrs:{type:"ghost"},on:{click:function(t){e.unitsEdit=!1}}},[e._v("取消")])],1)],1)],1)},a=[];o._withStripped=!0;var i={render:o,staticRenderFns:a};t.default=i},564:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i=(o(a),n(10)),r=(o(i),n(254)),s=o(r);t.default={name:"",data:function(){return{vertical:"apple",myDefault:"ruleAdd",isShow:!1,isHide:!0,myjson:{},getCompanys:[],outputCompanyId:"",single:!1,unitsMd:!1,unitsEdit:!1,acceptanceInfoMd:!1,modal_loading:!1,ruleId:"",typeSelsect:!0,formRules:{ruleName:"",companyId:"",companyName:"",haveSalesBill:"",invoiceItemLimit:"",itemMerge:"",invoiceLimitMoney:"",isDisabled:!1},purchli:[],ruleValidate:{ruleName:[{required:!0,message:"规则模板名称不能为空",trigger:"blur"}],haveSalesBill:[{required:!0,message:"请选择销货清单",trigger:"change"}],invoiceItemLimit:[{required:!0,message:"发票明细限制行数请输入小于8的正整数数字",trigger:"blur",pattern:/^(([1-8])|(8))$/}],itemMerge:[{required:!0,message:"请选择相同品类合并",trigger:"change"}],invoiceLimitMoney:[{required:!0,message:"票面限制金额请输入数字",trigger:"blur",pattern:/^[0-9]*$/}],companyName:[{required:!0,message:"请选择模板适用客户",trigger:"change"}]}}},mounted:function(){this.init()},watch:{$route:function(){this.init()}},methods:{init:function(){switch(this.$route.query.ruleState){case 1001:this.purchlist();break;case 1002:this.ruleId=this.$route.query.ruleId,this.ruleList()}},myOutputCompany:function(){this.isShow=!1,this.isHide=!0;for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log(t[0]),this.formRules.companyName=t[0].companyName,this.formRules.companyId=t[0].id},purchlist:function(){var e=this;this.$httpServer("/outputCompany/getOutputCompanys.do",{companyType:0}).then(function(t){e.purchli=t})},select:function(e){console.log(e),this.formRules.companyId=e.value,this.formRules.companyName=e.label},ruleList:function(){var e=this;this.$httpServer("/outputInvoiceRule/renderUpdateOutputInvoiceRule.do",{ruleId:this.ruleId}).then(function(t){e.formRules.ruleName=t.outputInvoiceRule.ruleName,e.formRules.haveSalesBill=t.outputInvoiceRule.haveSalesBill,e.formRules.invoiceItemLimit=t.outputInvoiceRule.invoiceItemLimit,e.formRules.itemMerge=t.outputInvoiceRule.itemMerge,e.formRules.invoiceLimitMoney=t.outputInvoiceRule.invoiceLimitMoney,e.formRules.companyId=t.outputInvoiceRule.companyId,e.formRules.companyName=t.outputInvoiceRule.companyName,e.purchli=t.outputCompanys})},saveRule:function(e){var t=this;this.$refs[e].validate(function(e){e?1002==t.$route.query.ruleState?t.$httpServer("/outputInvoiceRule/updateOutputInvoiceRule.do",{ruleId:t.ruleId,ruleName:t.formRules.ruleName,haveSalesBill:t.formRules.haveSalesBill,invoiceItemLimit:t.formRules.invoiceItemLimit,itemMerge:t.formRules.itemMerge,invoiceLimitMoney:t.formRules.invoiceLimitMoney,companyName:t.formRules.companyName,companyId:t.formRules.companyId}).then(function(e){200==e.status?(t.$Message.success("保存成功"),t.backlist()):t.$Message.warning("请仔细填写开票规则信息")}):t.$httpServer("/outputInvoiceRule/addOutputInvoiceRule.do",{ruleName:t.formRules.ruleName,haveSalesBill:t.formRules.haveSalesBill,invoiceItemLimit:t.formRules.invoiceItemLimit,itemMerge:t.formRules.itemMerge,invoiceLimitMoney:t.formRules.invoiceLimitMoney,companyName:t.formRules.companyName,companyId:t.formRules.companyId}).then(function(e){200==e.status?(t.$Message.success("保存成功"),t.backlist()):t.$Message.warning("请仔细填写开票规则信息")}):t.$Message.error("请填写开票规则模板!")})},openAcceptance:function(){var e=this;this.isShow=!0,this.isHide=!1,this.$httpServer("/outputCompany/getOutputCompanys.do",{companyType:0}).then(function(t){e.getCompanys=t})},backlist:function(){this.$router.go(-1)},cancel:function(){this.acceptanceInfoMd=!1}},components:{outputCompany:s.default}}}});