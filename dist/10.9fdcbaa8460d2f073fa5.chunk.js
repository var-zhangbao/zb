webpackJsonp([10],{1072:function(t,e,n){var a=n(1073);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(18)("7094c487",a,!1)},1073:function(t,e,n){e=t.exports=n(17)(void 0),e.push([t.i,'\n.margin-top-8 {\n  margin-top: 8px;\n}\n.margin-top-10 {\n  margin-top: 10px;\n}\n.margin-top-20 {\n  margin-top: 20px;\n}\n.margin-left-10 {\n  margin-left: 10px;\n}\n.margin-left-50 {\n  margin-left: 50px;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px;\n}\n.margin-bottom-100 {\n  margin-bottom: 100px;\n}\n.margin-right-10 {\n  margin-right: 10px;\n}\n.margin-right-20 {\n  margin-right: 20px;\n}\n.padding-bottom-10 {\n  padding-bottom: 10px;\n}\n.padding-left-6 {\n  padding-left: 6px;\n}\n.padding-left-8 {\n  padding-left: 5px;\n}\n.padding-left-10 {\n  padding-left: 10px;\n}\n.padding-left-20 {\n  padding-left: 20px;\n}\n.height-100 {\n  height: 100%;\n}\n.height-120px {\n  height: 100px;\n}\n.height-200px {\n  height: 200px;\n}\n.height-492px {\n  height: 492px;\n}\n.height-460px {\n  height: 460px;\n}\n.line-gray {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.notwrap {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.padding-left-5 {\n  padding-left: 10px;\n}\n[v-cloak] {\n  display: none;\n}\n.clearfix:after {\n  content: ".";\n  clear: both;\n  display: block;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n.clearfix {\n  zoom: 1;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.file {\n  position: relative;\n  display: inline-block;\n  background: #D0EEFF;\n  border: 1px solid #99D3F5;\n  border-radius: 4px;\n  padding: 4px 12px;\n  overflow: hidden;\n  color: #1E88C7;\n  text-decoration: none;\n  text-indent: 0;\n  line-height: 20px;\n}\n.file input {\n  position: absolute;\n  font-size: 100px;\n  right: 0;\n  top: 0;\n  opacity: 0;\n}\n.file:hover {\n  background: #AADFFD;\n  border-color: #78C3F3;\n  color: #004974;\n  text-decoration: none;\n}\n.my-upload div table tr {\n  font-size: 12px;\n}\n.greyCol {\n  color: #999;\n}\n.expand-row {\n  margin-bottom: 16px;\n  margin-top: 16px;\n  font-size: 12px;\n}\ntextarea.ivu-input {\n  font-size: 12px;\n}\n.soltTitlel {\n  line-height: 2;\n  padding: 0 16px;\n  margin-left: -16px;\n  margin-right: -19px;\n  font-weight: 900;\n  color: #464c5b;\n}\n.soltTitle {\n  line-height: 1;\n  border-bottom: 1px solid #e3e8ee;\n  padding: 17px 16px;\n  margin-left: -16px;\n  margin-right: -19px;\n  font-weight: 900;\n  color: #464c5b;\n}\n.soltTitlel {\n  line-height: 2;\n  padding: 0 16px;\n  margin-left: -16px;\n  margin-right: -19px;\n  font-weight: 900;\n  color: #464c5b;\n}\n',""])},1074:function(t,e,n){t.exports={default:n(1075),__esModule:!0}},1075:function(t,e,n){n(1076),t.exports=n(3).Array.forEach},1076:function(t,e,n){"use strict";var a=n(19),o=n(1077)(0),i=n(1080)([].forEach,!0);a(a.P+a.F*!i,"Array",{forEach:function(t){return o(this,t,arguments[1])}})},1077:function(t,e,n){var a=n(57),o=n(58),i=n(26),r=n(59),s=n(1078);t.exports=function(t,e){var n=1==t,l=2==t,c=3==t,p=4==t,d=6==t,m=5==t||d,u=e||s;return function(e,s,f){for(var y,h,g=i(e),v=o(g),b=a(s,f,3),k=r(v.length),F=0,x=n?u(e,k):l?u(e,0):void 0;k>F;F++)if((m||F in v)&&(y=v[F],h=b(y,F,g),t))if(n)x[F]=h;else if(h)switch(t){case 3:return!0;case 5:return y;case 6:return F;case 2:x.push(y)}else if(p)return!1;return d?-1:c||p?p:x}}},1078:function(t,e,n){var a=n(1079);t.exports=function(t,e){return new(a(t))(e)}},1079:function(t,e,n){var a=n(20),o=n(101),i=n(4)("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),a(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},1080:function(t,e,n){"use strict";var a=n(12);t.exports=function(t,e){return!!t&&a(function(){e?t.call(null,function(){},1):t.call(null)})}},1081:function(t,e,n){"use strict";function a(t){c||n(1082)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(571),i=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);var s=n(1084),l=n.n(s),c=!1,p=n(1),d=a,m=p(i.a,l.a,!1,d,null,null);m.options.__file="src/views/payment/accountOpeningBank.vue",e.default=m.exports},1082:function(t,e,n){var a=n(1083);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(18)("7c2a0d5f",a,!1)},1083:function(t,e,n){e=t.exports=n(17)(void 0),e.push([t.i,'\n.margin-top-8 {\n  margin-top: 8px;\n}\n.margin-top-10 {\n  margin-top: 10px;\n}\n.margin-top-20 {\n  margin-top: 20px;\n}\n.margin-left-10 {\n  margin-left: 10px;\n}\n.margin-left-50 {\n  margin-left: 50px;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px;\n}\n.margin-bottom-100 {\n  margin-bottom: 100px;\n}\n.margin-right-10 {\n  margin-right: 10px;\n}\n.margin-right-20 {\n  margin-right: 20px;\n}\n.padding-bottom-10 {\n  padding-bottom: 10px;\n}\n.padding-left-6 {\n  padding-left: 6px;\n}\n.padding-left-8 {\n  padding-left: 5px;\n}\n.padding-left-10 {\n  padding-left: 10px;\n}\n.padding-left-20 {\n  padding-left: 20px;\n}\n.height-100 {\n  height: 100%;\n}\n.height-120px {\n  height: 100px;\n}\n.height-200px {\n  height: 200px;\n}\n.height-492px {\n  height: 492px;\n}\n.height-460px {\n  height: 460px;\n}\n.line-gray {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.notwrap {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.padding-left-5 {\n  padding-left: 10px;\n}\n[v-cloak] {\n  display: none;\n}\n.clearfix:after {\n  content: ".";\n  clear: both;\n  display: block;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n.clearfix {\n  zoom: 1;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.file {\n  position: relative;\n  display: inline-block;\n  background: #D0EEFF;\n  border: 1px solid #99D3F5;\n  border-radius: 4px;\n  padding: 4px 12px;\n  overflow: hidden;\n  color: #1E88C7;\n  text-decoration: none;\n  text-indent: 0;\n  line-height: 20px;\n}\n.file input {\n  position: absolute;\n  font-size: 100px;\n  right: 0;\n  top: 0;\n  opacity: 0;\n}\n.file:hover {\n  background: #AADFFD;\n  border-color: #78C3F3;\n  color: #004974;\n  text-decoration: none;\n}\n.my-upload div table tr {\n  font-size: 12px;\n}\n.greyCol {\n  color: #999;\n}\n.expand-row {\n  margin-bottom: 16px;\n  margin-top: 16px;\n  font-size: 12px;\n}\ntextarea.ivu-input {\n  font-size: 12px;\n}\n.soltTitlel {\n  line-height: 2;\n  padding: 0 16px;\n  margin-left: -16px;\n  margin-right: -19px;\n  font-weight: 900;\n  color: #464c5b;\n}\n.expand-row {\n  margin-bottom: 16px;\n  margin-top: 16px;\n}\n.soltTitlel {\n  line-height: 2;\n  padding: 0 16px;\n  margin-left: -16px;\n  margin-right: -19px;\n  font-weight: 900;\n  color: #464c5b;\n}\n',""])},1084:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"receiveAddress"},[n("Card",{staticClass:"margin-bottom-10"},[n("Row",{attrs:{align:"middle",type:"flex"}},[n("Col",{attrs:{span:"8"}},[n("p",{staticClass:"soltTitlel"},[t._v("收款单位开户银行信息")])]),t._v(" "),n("Col",{attrs:{span:"5",offset:"11"}},[n("Button",{staticClass:"fr",attrs:{type:"primary"},on:{click:function(e){t.unitsMds()}}},[n("Icon",{attrs:{type:"plus"}}),t._v("  新建")],1)],1)],1)],1),t._v(" "),n("Card",[n("div",[n("RadioGroup",{staticStyle:{width:"100%"},attrs:{vertical:""},on:{"on-change":t.onChangeRadio},model:{value:t.vertical,callback:function(e){t.vertical=e},expression:"vertical"}},t._l(t.messageList,function(e,a){return n("Row",{key:e.id,staticClass:"code-row-bg",attrs:{type:"flex",justify:"center",align:"middle"}},[n("Col",{attrs:{span:"1"}},[n("Radio",{attrs:{label:e.id,size:"large"}},[n("i",{staticStyle:{display:"none"}},[t._v(" "+t._s(e.id))])])],1),t._v(" "),n("Col",{attrs:{span:"23"}},[n("Row",{staticClass:"expand-row"},[n("Col",{attrs:{span:"11"}},[n("Col",{attrs:{span:"11",offset:"2"}},[t._v("收款单位:")]),t._v(" "),n("Col",{attrs:{span:"11"}},[t._v(t._s(e.companyName))])],1),t._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("Col",{attrs:{span:"11",offset:"2"}},[t._v("收款单位开户银行: ")]),t._v(" "),n("Col",{attrs:{span:"11"}},[t._v(t._s(e.bankName))])],1)],1),t._v(" "),n("Row",{staticClass:"expand-row"},[n("Col",{attrs:{span:"11"}},[n("Col",{attrs:{span:"11",offset:"2"}},[t._v("收款单位银行账户:")]),t._v(" "),n("Col",{attrs:{span:"11"}},[t._v(t._s(e.bankAccount))])],1),t._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("Col",{attrs:{span:"11",offset:"2"}},[t._v("备注: ")]),t._v(" "),n("Col",{attrs:{span:"11"}},[t._v(t._s(e.remark))])],1)],1),t._v(" "),n("Row",{attrs:{type:"flex",justify:"end"}},[n("Col",{attrs:{span:"2"}},[n("Button",{staticStyle:{color:"#2d8cf0"},attrs:{type:"text"},on:{click:function(n){t.editUnits(e.id)}}},[t._v("编辑")])],1),t._v(" "),n("Col",{attrs:{span:"2"}},[n("Button",{staticStyle:{color:"#2d8cf0"},attrs:{type:"text"},on:{click:function(n){t.deleteUnits(e.id)}}},[t._v("删除")])],1)],1)],1)],1)}))],1),t._v(" "),n("div",{staticClass:"margin-top-20"},[n("Row",{staticClass:"code-row-bg",attrs:{type:"flex",justify:"end"}},[n("Col",{attrs:{span:"2"}},[n("Button",{attrs:{type:"primary",loading:t.modal_loading},on:{click:function(e){t.sureAcceptance()}}},[t._v("确定")])],1),t._v(" "),n("Col",{attrs:{span:"2"}},[n("Button",{attrs:{type:"ghost",loading:t.modal_loading},on:{click:function(e){t.acceptanceInfoMd()}}},[t._v("取消")])],1)],1)],1)]),t._v(" "),n("Modal",{attrs:{title:"新增信息",width:"50%"},model:{value:t.unitsMd,callback:function(e){t.unitsMd=e},expression:"unitsMd"}},[n("Form",{ref:"addForm",attrs:{model:t.addForm,rules:t.ruleValidates,"label-position":"top"}},[n("Row",[n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"收款单位"}},[n("Input",{attrs:{placeholder:"收款单位",disabled:""},model:{value:t.messageNames,callback:function(e){t.messageNames=e},expression:"messageNames"}})],1)],1),t._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("FormItem",{attrs:{label:"收款单位开户银行",prop:"bankName"}},[n("Input",{attrs:{placeholder:"收款单位开户银行"},model:{value:t.addForm.bankName,callback:function(e){t.$set(t.addForm,"bankName",e)},expression:"addForm.bankName"}})],1)],1)],1),t._v(" "),n("Row",[n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"收款单位银行账户",prop:"bankAccount"}},[n("Input",{attrs:{placeholder:"收款单位银行账户"},model:{value:t.addForm.bankAccount,callback:function(e){t.$set(t.addForm,"bankAccount",e)},expression:"addForm.bankAccount"}})],1)],1),t._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("FormItem",{attrs:{label:"备注"}},[n("Input",{attrs:{placeholder:"备注"},model:{value:t.addForm.remark,callback:function(e){t.$set(t.addForm,"remark",e)},expression:"addForm.remark"}})],1)],1)],1)],1),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"primary"},on:{click:function(e){t.addUnits("addForm")}}},[t._v("确认")]),t._v(" "),n("Button",{attrs:{type:"ghost"},on:{click:function(e){t.unitsMd=!1}}},[t._v("取消")])],1)],1),t._v(" "),n("Modal",{attrs:{title:"维护信息",width:"50%"},model:{value:t.unitsEdit,callback:function(e){t.unitsEdit=e},expression:"unitsEdit"}},[n("Form",{ref:"editForm",attrs:{model:t.editForm,rules:t.ruleValidates,"label-position":"top"}},[n("Row",[n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"收款单位"}},[n("Input",{attrs:{placeholder:"收款单位",disabled:""},model:{value:t.messageNames,callback:function(e){t.messageNames=e},expression:"messageNames"}})],1)],1),t._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("FormItem",{attrs:{label:"收款单位开户银行",prop:"bankName"}},[n("Input",{attrs:{placeholder:"收款单位开户银行"},model:{value:t.editForm.bankName,callback:function(e){t.$set(t.editForm,"bankName",e)},expression:"editForm.bankName"}})],1)],1)],1),t._v(" "),n("Row",[n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"收款单位银行账户",prop:"bankAccount"}},[n("Input",{attrs:{placeholder:"收款单位银行账户"},model:{value:t.editForm.bankAccount,callback:function(e){t.$set(t.editForm,"bankAccount",e)},expression:"editForm.bankAccount"}})],1)],1),t._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("FormItem",{attrs:{label:"备注"}},[n("Input",{attrs:{placeholder:"备注"},model:{value:t.editForm.remark,callback:function(e){t.$set(t.editForm,"remark",e)},expression:"editForm.remark"}})],1)],1)],1)],1),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"primary"},on:{click:function(e){t.updateUnits()}}},[t._v("确认")]),t._v(" "),n("Button",{attrs:{type:"ghost"},on:{click:function(e){t.unitsEdit=!1}}},[t._v("取消")])],1)],1)],1)},o=[];a._withStripped=!0;var i={render:a,staticRenderFns:o};e.default=i},1085:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{background:"#eee"}},[n("accountOpeningBank",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],attrs:{messageList:t.parentMsg,messageIds:t.messageId,messageNames:t.messageName,defaultDeliver:t.myDefault},on:{childMethod:t.purchLists,message2:t.myAaccountOpeningBank}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isHide,expression:"isHide"}]},[n("Card",{staticClass:"margin-bottom-10"},[n("Row",{attrs:{align:"middle",type:"flex"}},[n("Col",{attrs:{span:"8"}},[n("p",{staticClass:"soltTitlel"},[t._v(t._s(t.typeSelect?"编辑付款申请":"新增付款申请"))])]),t._v(" "),n("Col",{attrs:{span:"5",offset:"11"}},[n("Button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){t.savePayMain("0")}}},[t._v("保存")]),t._v(" "),n("Button",{staticClass:"btn",attrs:{type:"ghost"},on:{click:function(e){t.savePayMain("1")}}},[t._v("保存并提交")]),t._v(" "),n("Button",{staticClass:"btn",attrs:{type:"ghost"},on:{click:function(e){t.backlist()}}},[t._v("取消")])],1)],1)],1),t._v(" "),n("Card",{staticClass:"margin-bottom-10",attrs:{bordered:!1}},[n("p",{attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"flag"}}),t._v(" 基本信息")],1),t._v(" "),n("Form",{ref:"paymentForm",attrs:{model:t.paymentForm,rules:t.ruleValidate,"label-position":"top"}},[n("Row",[n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"订单信息",prop:"contractCode"}},[n("Input",{attrs:{readonly:"",icon:"plus-round",placeholder:"请选择订单信息"},on:{"on-focus":function(e){t.contractDig=!0}},model:{value:t.paymentForm.contractName,callback:function(e){t.$set(t.paymentForm,"contractName",e)},expression:"paymentForm.contractName"}})],1)],1),t._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("FormItem",{attrs:{label:"供应商名称",prop:"supplierName"}},[n("Input",{attrs:{disabled:""},model:{value:t.paymentForm.supplierName,callback:function(e){t.$set(t.paymentForm,"supplierName",e)},expression:"paymentForm.supplierName"}})],1)],1)],1),t._v(" "),n("Row",[n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"订单总金额",prop:"currencyMoney"}},[n("Input",{attrs:{disabled:""},model:{value:t.paymentForm.currencyMoney,callback:function(e){t.$set(t.paymentForm,"currencyMoney",e)},expression:"paymentForm.currencyMoney"}})],1)],1),t._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("FormItem",{attrs:{label:"累计申请金额",prop:"payApplyMoneySum"}},[n("Input",{attrs:{disabled:""},model:{value:t.paymentForm.payApplyMoneySum,callback:function(e){t.$set(t.paymentForm,"payApplyMoneySum",e)},expression:"paymentForm.payApplyMoneySum"}})],1)],1)],1),t._v(" "),n("Row",[n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"累计付款金额",prop:"payedMoneySum"}},[n("Input",{attrs:{disabled:""},model:{value:t.paymentForm.payedMoneySum,callback:function(e){t.$set(t.paymentForm,"payedMoneySum",e)},expression:"paymentForm.payedMoneySum"}})],1)],1),t._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("FormItem",{attrs:{label:"累计发票金额",prop:"invoicedMoneySum"}},[n("Input",{attrs:{disabled:""},model:{value:t.paymentForm.invoicedMoneySum,callback:function(e){t.$set(t.paymentForm,"invoicedMoneySum",e)},expression:"paymentForm.invoicedMoneySum"}})],1)],1)],1),t._v(" "),n("Row",[n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"累计结算金额",prop:"settledMoneySum"}},[n("Input",{attrs:{disabled:""},model:{value:t.paymentForm.settledMoneySum,callback:function(e){t.$set(t.paymentForm,"settledMoneySum",e)},expression:"paymentForm.settledMoneySum"}})],1)],1),t._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("FormItem",{attrs:{label:"收款单位",prop:"supplierName"}},[n("Input",{attrs:{disabled:""},model:{value:t.paymentForm.supplierName,callback:function(e){t.$set(t.paymentForm,"supplierName",e)},expression:"paymentForm.supplierName"}})],1)],1)],1),t._v(" "),n("Row",[n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"结算方式"}},[n("Input",{attrs:{disabled:""},model:{value:t.paymentForm.settleType,callback:function(e){t.$set(t.paymentForm,"settleType",e)},expression:"paymentForm.settleType"}})],1)],1)],1)],1),t._v(" "),n("p",{staticClass:"soltTitle margin-bottom-10"},[n("Icon",{attrs:{type:"ios-cloud-upload"}}),t._v(" 付款申请信息")],1),t._v(" "),n("Form",{ref:"paymentForm",attrs:{model:t.paymentForm,rules:t.ruleValidate,"label-position":"top"}},[n("Row",[n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"收款单位开户银行",prop:"bankName"}},[n("Input",{attrs:{readonly:"",icon:"plus-round",placeholder:"请选择收款单位开户银行"},on:{"on-focus":t.openBnakName},model:{value:t.paymentForm.bankName,callback:function(e){t.$set(t.paymentForm,"bankName",e)},expression:"paymentForm.bankName"}})],1)],1),t._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("FormItem",{attrs:{label:"收款单位银行账户"}},[n("Input",{attrs:{disabled:""},model:{value:t.paymentForm.bankAccount,callback:function(e){t.$set(t.paymentForm,"bankAccount",e)},expression:"paymentForm.bankAccount"}})],1)],1)],1),t._v(" "),n("Row",[n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"发票号码",prop:"invoiceNo"}},[n("Input",{attrs:{readonly:"",icon:"plus-round",placeholder:"请选择发票"},on:{"on-focus":t.invoice},model:{value:t.paymentForm.invoiceNo,callback:function(e){t.$set(t.paymentForm,"invoiceNo",e)},expression:"paymentForm.invoiceNo"}})],1)],1),t._v(" "),n("Col",{attrs:{span:"11",offset:"2"}},[n("FormItem",{attrs:{label:"发票金额",prop:"invoiceMoney"}},[n("Input",{attrs:{disabled:""},model:{value:t.paymentForm.invoiceMoney,callback:function(e){t.$set(t.paymentForm,"invoiceMoney",e)},expression:"paymentForm.invoiceMoney"}})],1)],1)],1),t._v(" "),n("Row",[n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"付款申请金额"}},[n("InputNumber",{staticStyle:{width:"100%"},attrs:{min:0,step:1,placeholder:"请输入付款申请金额"},model:{value:t.paymentForm.applyMoney,callback:function(e){t.$set(t.paymentForm,"applyMoney",e)},expression:"paymentForm.applyMoney"}})],1)],1)],1),t._v(" "),n("Row",[n("Col",{attrs:{span:"11"}},[n("FormItem",{attrs:{label:"付款申请说明",prop:"payDesc"}},[n("Input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:t.paymentForm.payDesc,callback:function(e){t.$set(t.paymentForm,"payDesc",e)},expression:"paymentForm.payDesc"}})],1)],1)],1)],1),t._v(" "),n("Row",[n("Col",{attrs:{span:"24"}},[n("p",{staticClass:"soltTitle margin-bottom-10"},[n("Icon",{attrs:{type:"ios-cloud-upload"}}),t._v(" 附件")],1)]),t._v(" "),n("Col",{attrs:{span:"24"}},[n("div",{staticClass:"my-upload"},[n("a",{staticClass:"file",attrs:{href:"javascript:;",disabled:t.flieDisabled},on:{change:function(e){t.uploadFile(e)}}},[t._v("选择文件\n                            "),n("input",{attrs:{type:"file",name:"",id:""}})]),t._v(" "),n("div",[n("table",t._l(t.fileList,function(e,a){return n("tr",[n("td",{staticStyle:{padding:"0 10px"}},[t._v(t._s(a+1))]),t._v(" "),n("td",{staticStyle:{padding:"0 10px"}},[t._v(t._s(e.name))]),t._v(" "),n("td",{staticStyle:{padding:"0 10px"}},[n("a",{attrs:{href:"javascript:;"},on:{click:function(n){t.deleteFile(e)}}},[t._v("删除")])])])}))])])])],1)],1),t._v(" "),n("Modal",{attrs:{title:"订单列表",width:"50%;"},model:{value:t.contractDig,callback:function(e){t.contractDig=e},expression:"contractDig"}},[n("div",{staticStyle:{width:"90%"},attrs:{slot:"header"},slot:"header"},[n("Row",[n("Col",{attrs:{span:12}},[n("AutoComplete",{staticStyle:{width:"300px",float:"left"},attrs:{icon:"ios-search",placeholder:"订单编号/订单名称/相对方名称"},on:{"on-search":t.searchContract},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1)],1)],1),t._v(" "),n("div",{staticClass:"contant"},[n("Table",{attrs:{size:"small","highlight-row":"",height:"200",columns:t.contractColumns,data:t.contractList},on:{"on-row-click":t.rowClick}})],1),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"primary"},on:{click:function(e){t.sureContract()}}},[t._v("确认")]),t._v(" "),n("Button",{attrs:{type:"ghost"},on:{click:function(e){t.contractDig=!1}}},[t._v("取消")])],1)]),t._v(" "),n("Modal",{attrs:{title:"选择发票",width:"50%"},model:{value:t.invoiceDig,callback:function(e){t.invoiceDig=e},expression:"invoiceDig"}},[n("div",{staticStyle:{width:"90%"},attrs:{slot:"header"},slot:"header"},[n("Row",[n("Col",{attrs:{span:12}},[n("AutoComplete",{staticStyle:{width:"300px",float:"left"},attrs:{icon:"ios-search",placeholder:"发票号码/开票申请单号/开票金额/开票日期"}})],1)],1)],1),t._v(" "),n("div",{staticClass:"contant"},[n("Table",{attrs:{columns:t.invoiceColumns,data:t.invoiceList,size:"small",height:"200"},on:{"on-selection-change":t.onSelectChange}})],1),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"primary"},on:{click:function(e){t.invoiceSure()}}},[t._v("确认")]),t._v(" "),n("Button",{attrs:{type:"ghost"},on:{click:function(e){t.invoiceDig=!1}}},[t._v("取消")])],1)])],1)],1)},o=[];a._withStripped=!0;var i={render:a,staticRenderFns:o};e.default=i},287:function(t,e,n){"use strict";function a(t){c||n(1072)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(570),i=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,function(){return o[t]})}(r);var s=n(1085),l=n.n(s),c=!1,p=n(1),d=a,m=p(i.a,l.a,!1,d,null,null);m.options.__file="src/views/payment/paymentAddEdit.vue",e.default=m.exports},570:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1074),i=a(o),r=n(33),s=a(r),l=n(99),c=a(l),p=n(10),d=a(p),m=n(1081),u=a(m);e.default={name:"",data:function(){var t=this,e=function(e,n,a){if(""===n)a(new Error("请输入"+e.valiName));else{/^[\d,]+\.?\d{0,2}$/.test(n)?1==t.payTypeForm.typeId||6==t.payTypeForm.typeId?n>d.default.formatFalNum(t.payTypeForm.invoiceMoney)?a(new Error("付款申请金额不得大于发票金额")):(t.payTypeForm.subApplyMoney=d.default.formatNum(n,2),a()):(console.log(n),console.log(t.paymentForm.currencyMoney),n>d.default.formatFalNum(t.paymentForm.currencyMoney)?a(new Error("付款申请金额不得大于订单金额")):(t.payTypeForm.subApplyMoney=d.default.formatNum(n,2),a())):a(new Error("请输入正确的金额格式")),a()}};return{myDefault:"paymentaddedit_index",isShow:!1,isHide:!0,typeSelect:!1,invoiceDig:!1,contractDig:!1,modal2:!1,modal_loading:!1,flieDisabled:!1,searchValue:"",paymentForm:{contractId:"",contractCode:"",contractName:"",purchaserName:"",currencyMoney:"",contractType:"",currency:"",payApplyMoneySum:"",payedMoneySum:"",settledMoneySum:"",invoicedMoneySum:"",supplierName:"",bankName:"",bankAccount:"",payDesc:"",applyMoney:0,invoiceNo:"",invoiceMoney:"",settleType:""},ruleValidate:{contractCode:[{required:!0,message:"请输入名称",trigger:"change"}],contractName:[{required:!0,message:"请输入编号",trigger:"change"}],bankName:[{required:!0,message:"请输入收款单位开户银行",trigger:"change"}],bankAccount:[{required:!0,message:"请输入收款单位银行账户",trigger:"blur"}],invoiceNo:[{required:!0,message:"请选择发票号码",trigger:"change"}]},material:[],invoiceColumns:[{type:"selection",width:60,align:"center",fixed:"left"},{title:"发票代码",key:"invoiceCode"},{title:"发票号码",key:"invoiceNo"},{title:"发票金额",key:"taxIncludedSum",render:function(t,e){return t("span",d.default.formatNum(e.row.taxIncludedSum,2))}},{title:"开票日期",key:"invoiceDate",render:function(t,e){return t("span",d.default.format(e.row.invoiceDate))}},{title:"开票申请单号",key:"noticeNo"}],invoiceList:[],contractColumns:[{type:"index",title:"序号",width:60},{title:"订单编号",key:"contractCode"},{title:"订单名称",key:"contractName"},{title:"相对方",key:"supplierName"},{title:"订单金额",key:"currencyMoney",render:function(t,e){return t("span",d.default.formatNum(e.row.currencyMoney,2))}}],contractList:[],payTypeForm:{type:"",typeId:"",subtype:"",subApplyMoney:"",invoiceNo:"",invoiceMoney:"",symbol:""},rulepayTypeForm:{type:[{required:!0,message:"请选择付款类型",trigger:"change"}],subtype:[{required:!0,message:"请选择子类型",trigger:"change"}],invoiceNo:[{required:!0,message:"请选择发票号码",trigger:"change"}],subApplyMoney:[{validator:e,required:!0,trigger:"blur",valiName:"付款申请金额"}]},contractId:"",banklist:[],contractNatureList:[{value:0,label:"普通订单"},{value:1,label:"框架订单"}],currencyList:[{value:0,label:"人民币"},{value:1,label:"美元"},{value:2,label:"欧元"},{value:3,label:"英镑"},{value:4,label:"日元"}],payTypeList:[],payTypeChildList:[],nullMsg:"请选择付款子类型",file:[],deleteList:[],payBillId:"",num:0,digType:!1,fileList:[],input:"",disabled:!1,btnDis:!1,addType:!0,clickIndex:0,parentMsg:[],messageId:0,messageName:"",selectionInvoice:[]}},mounted:function(){this.init(),this.getContractlist()},methods:{backlist:function(){this.$router.go(-1)},init:function(){switch(this.payBillId=this.$route.query.payBillId,this.$route.query.payment_State.toString()){case"1001":this.typeSelect=!1;break;case"1002":this.typeSelect=!0,this.getPayMainConunt(),this.getFileList()}},getPayMainConunt:function(){var t=this,e={payBillId:this.payBillId};this.$httpServer("/payApply/detail.do",e).then(function(e){t.paymentForm=e.data,t.contractId=e.data.contractId})},getFileList:function(){var t=this,e={payBillId:this.payBillId};this.$httpServer("/payAttach/list.do",e).then(function(e){console.log(e),t.fileList=e.data})},getContractlist:function(){var t=this,e={input:this.input};this.$httpServer("/payApply/getContractList.do",e).then(function(e){console.log(e),""==e.data&&null==e.data||(t.contractList=e.data)})},searchContract:function(){console.log(this.searchValue),this.input=this.searchValue,this.getContractlist()},rowClick:function(t,e){console.log(t),this.contractId=t.contractId,this.paymentForm.contractId=t.contractId,console.log(e)},sureContract:function(){var t=this;this.contractDig=!1,this.$httpServer("/payApply/getContract.do",{contractId:this.contractId}).then(function(e){console.log(e),t.paymentForm=e.data,t.messageId=t.contractId,t.messageName=e.data.supplierName,t.purchLists()})},purchLists:function(){var t=this;this.$httpServer("/bank/getBankList.do",{contractId:this.contractId}).then(function(e){t.parentMsg=e.data,console.log(e)})},invoice:function(){if(""==this.contractId)return void this.$Message.info("请先选择订单信息");this.invoiceDig=!0,this.payTypeForm.subApplyMoney="",this.getInvoicelist()},getInvoicelist:function(){var t=this;this.$httpServer("/payApply/getInvoiceList.do",{contractId:this.contractId}).then(function(e){console.log(e),t.invoiceList=e.data})},onSelectChange:function(t){console.log(t),this.selectionInvoice=t},invoiceSure:function(){this.invoiceDig=!1;for(var t=new Array,e=0,n=0;n<this.selectionInvoice.length;n++)t.push(this.selectionInvoice[n].invoiceNo),e=Number(e)+Number(this.selectionInvoice[n].taxIncludedSum),this.paymentForm.invoiceMoney=e,this.paymentForm.applyMoney=e;this.paymentForm.invoiceNo=t.toString(),console.log(this.paymentForm.invoiceNo)},uploadFile:function(t){t.target.outerHTML=t.target.outerHTML;var e=t.target.files,n=[];e&&e.length&&Array.prototype.push.apply(n,e);for(var a=0;a<n.length;a++)this.file.push(n[a]),console.log(this.file),this.fileList.push(n[a]),console.log(this.fileList)},deleteFile:function(t){var e=this;if(void 0==t.attachId){for(var n=0;n<this.fileList.length;n++)if(t.name==this.fileList[n].name){this.fileList.splice(n,1);break}}else{var a={attachId:t.attachId};this.$httpServer("/payAttach/delete.do",a).then(function(t){200==t.status&&(e.$Message.info("删除成功"),e.getFileList())})}},savePayMain:function(t){var e=this;this.$refs.paymentForm.validate(function(n){if(n){if(e.paymentForm.applyMoney>e.paymentForm.invoiceMoney)return void e.$Message.info("付款申请金额不能大于发票金额");var a="";0==e.typeSelect?a="/payApply/save.do":(a="/payApply/update.do",e.paymentForm.payBillId=e.payBillId),e.paymentForm.payee=e.paymentForm.supplierName;var o=(0,c.default)({},e.paymentForm);console.log(o);for(var i=new FormData,r=0;r<e.file.length;r++)i.append("attaches",e.file[r]);i.append("flag",t),i.append("payStr",(0,s.default)(o)),e.$fdServer(a,i).then(function(t){console.log(t),200==t.status&&(e.$Message.info("保存成功"),e.backlist())})}else e.$Message.info("请仔细填写基础信息")})},openBnakName:function(){if(""==this.contractId)return void this.$Message.info("请先选择订单信息");this.isShow=!0,this.isHide=!1},myAaccountOpeningBank:function(){this.isShow=!1,this.isHide=!0;for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];console.log(e[0]),this.paymentForm.bankName=e[0].bankName,this.paymentForm.bankAccount=e[0].bankAccount}},components:{accountOpeningBank:u.default},watch:{fileList:function(t){t.length>=5?(this.$Message.info("附件上传不得大于5个"),this.flieDisabled=!0):this.flieDisabled=!1},paymentForm:function(t){console.log(t),this.paymentForm.currencyMoney=d.default.formatNum(t.currencyMoney,2),this.paymentForm.payApplyMoneySum=d.default.formatNum(t.payApplyMoneySum,2),this.paymentForm.payedMoneySum=d.default.formatNum(t.payedMoneySum,2),this.paymentForm.invoicedMoneySum=d.default.formatNum(t.invoicedMoneySum,2),this.paymentForm.settledMoneySum=d.default.formatNum(t.settledMoneySum,2)},material:function(t){function e(t){a+=Number(t)}var n=t.map(function(t){var e=t.type.replace(/[^\+\-]/gi,"");return"number"==typeof t.subApplyMoney?e+""+t.subApplyMoney:e+""+d.default.formatFalNum(t.subApplyMoney)});console.log(n);var a=0;(0,i.default)(n,e),this.paymentForm.applyMoney=d.default.formatNum(a,2)},"paymentForm.contractName":function(t){this.addType=""==t}}}},571:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),i=(a(o),n(10));a(i);e.default={name:"",props:{defaultDeliver:{type:String},messageList:Array,messageIds:Number,messageNames:String},data:function(){return{vertical:"apple",myjson:{},bankId:"",single:!1,unitsMd:!1,unitsEdit:!1,modal_loading:!1,ruleValidates:{companyName:[{required:!0,message:"请输入收款单位",trigger:"blur"}],bankName:[{required:!0,message:"请输入收款单位开户银行",trigger:"blur"}],bankAccount:[{required:!0,message:"请输入收款单位开户银行账号",trigger:"blur"}],remark:[{required:!0,message:"请输入备注",trigger:"blur"}]},addForm:{companyName:"",bankName:"",bankAccount:"",remark:""},editForm:{companyName:"",bankName:"",bankAccount:"",remark:""},ruleId:"",typeSelsect:!0,formRules:{ruleName:"",companyId:"",companyName:"",haveSalesBill:"",invoiceItemLimit:"",itemMerge:"",invoiceLimitMoney:"",isDisabled:!1}}},mounted:function(){},watch:{},methods:{addUnits:function(t){var e=this;this.$refs[t].validate(function(t){t?(e.unitsMd=!1,e.$httpServer("/bank/saveBank.do",{bankName:e.addForm.bankName,bankAccount:e.addForm.bankAccount,remark:e.addForm.remark,contractId:e.messageIds}).then(function(t){return e.$emit("childMethod",e.messageList),e.$Message.success("保存成功"),e.addForm={}})):e.$Message.error("请填写模板适用客户信息!")})},editUnits:function(t){var e=this;this.unitsEdit=!0,this.$refs.editForm.resetFields(),this.bankId=t,this.$httpServer("/bank/getBank.do",{bankId:t}).then(function(t){console.log(t),e.editForm.bankName=t.data.bankName,e.editForm.bankAccount=t.data.bankAccount,e.editForm.remark=t.data.remark})},updateUnits:function(t){var e=this;this.$refs.editForm.validate(function(t){t?(e.unitsEdit=!1,e.$httpServer("/bank/updateBank.do",{id:e.bankId,bankName:e.editForm.bankName,bankAccount:e.editForm.bankAccount,remark:e.editForm.remark}).then(function(t){console.log(t),e.$Message.success("维护成功!"),e.$emit("childMethod",e.messageList)})):e.$Message.error("请填写模板适用客户信息!")})},deleteUnits:function(t){var e=this;this.$httpServer("/bank/deleteBank.do",{bankId:t}).then(function(t){console.log(t),e.$Message.success("删除成功!"),e.$emit("childMethod",e.messageList)})},onChangeRadio:function(t){console.log(t);for(var e=0;e<this.messageList.length;e++)this.messageList[e].id==t&&(this.myjson=this.messageList[e]);console.log(this.myjson)},sureAcceptance:function(){this.$emit("message2",this.myjson,this.defaultDeliver),this.formRules.bankName=this.myjson.bankName,this.formRules.bankAccount=this.myjson.bankAccount},acceptanceInfoMd:function(){this.$emit("message2",this.myjson,this.defaultDeliver),this.formRules.bankName=this.myjson.bankName,this.formRules.bankAccount=this.myjson.bankAccount},backlist:function(){this.$router.go(-1)},unitsMds:function(){this.$refs.addForm.resetFields(),this.unitsMd=!0}}}}});