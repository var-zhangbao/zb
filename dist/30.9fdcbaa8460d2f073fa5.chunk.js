webpackJsonp([30],{254:function(t,n,o){"use strict";function e(t){l||o(427)}Object.defineProperty(n,"__esModule",{value:!0});var a=o(378),r=o.n(a);for(var s in a)"default"!==s&&function(t){o.d(n,t,function(){return a[t]})}(s);var i=o(429),p=o.n(i),l=!1,c=o(1),d=e,m=c(r.a,p.a,!1,d,null,null);m.options.__file="src/views/tickets/outputCompany.vue",n.default=m.exports},378:function(t,n,o){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var a=o(2),r=(e(a),o(10));e(r);n.default={name:"",props:{defaultDeliver:{type:String}},data:function(){return{vertical:"apple",myjson:{},getCompanys:[],outputCompanyId:"",single:!1,unitsMd:!1,unitsEdit:!1,modal_loading:!1,ruleValidates:{companyName:[{required:!0,message:"请输入单位名称",trigger:"blur"}],companyCode:[{required:!0,message:"请输入纳税人识别号",trigger:"blur"}],companyBank:[{required:!0,message:"请输入开户行",trigger:"blur"}],companyBankAccount:[{required:!0,message:"请输入银行账号",trigger:"blur"}],companyAddress:[{required:!0,message:"请输入地址",trigger:"blur"}],companyTel:[{required:!0,message:"请输入电话",trigger:"blur"}]},addForm:{companyName:"",companyCode:"",companyBank:"",companyBankAccount:"",companyAddress:"",companyTel:""},editForm:{companyName:"",companyCode:"",companyBank:"",companyBankAccount:"",companyAddress:"",companyTel:""},ruleId:"",typeSelsect:!0,formRules:{ruleName:"",companyId:"",companyName:"",haveSalesBill:"",invoiceItemLimit:"",itemMerge:"",invoiceLimitMoney:"",isDisabled:!1},purchli:[],ruleValidate:{ruleName:[{required:!0,message:"规则模板名称不能为空",trigger:"blur"}],haveSalesBill:[{required:!0,message:"请选择销货清单",trigger:"change"}],invoiceItemLimit:[{required:!0,message:"发票明细限制行数请输入小于8的正整数数字",trigger:"blur",pattern:/^(([1-8])|(8))$/}],itemMerge:[{required:!0,message:"请选择相同品类合并",trigger:"change"}],invoiceLimitMoney:[{required:!0,message:"票面限制金额请输入数字",trigger:"blur",pattern:/^[0-9]*$/}],companyName:[{required:!0,message:"请选择模板适用客户",trigger:"blur"}]}}},mounted:function(){this.purchlist()},methods:{purchlist:function(){var t=this;this.$httpServer("/outputCompany/getOutputCompanys.do",{companyType:0}).then(function(n){t.getCompanys=n})},select:function(t){console.log(t),this.formRules.companyId=t.value,this.formRules.companyName=t.label},addUnits:function(t){var n=this;this.$refs[t].validate(function(t){t?(n.unitsMd=!1,n.$httpServer("/outputCompany/addOutputCompany.do",{companyName:n.addForm.companyName,companyCode:n.addForm.companyCode,companyBank:n.addForm.companyBank,companyBankAccount:n.addForm.companyBankAccount,companyAddress:n.addForm.companyAddress,companyTel:n.addForm.companyTel,companyType:0}).then(function(t){return n.$Message.success("保存成功"),n.purchlist(),n.addForm={}})):n.$Message.error("请填写模板适用客户信息!")})},editUnits:function(t){var n=this;this.unitsEdit=!0,this.$refs.editForm.resetFields(),this.outputCompanyId=t,this.$httpServer("/outputCompany/getOutputCompanyById.do",{outputCompanyId:t}).then(function(t){console.log(t),n.editForm.companyName=t.companyName,n.editForm.companyCode=t.companyCode,n.editForm.companyBank=t.companyBank,n.editForm.companyBankAccount=t.companyBankAccount,n.editForm.companyAddress=t.companyAddress,n.editForm.companyTel=t.companyTel})},updateUnits:function(t){var n=this;this.$refs.editForm.validate(function(t){t?(n.unitsEdit=!1,n.$httpServer("/outputCompany/updateOutputCompany.do",{id:n.outputCompanyId,companyName:n.editForm.companyName,companyCode:n.editForm.companyCode,companyBank:n.editForm.companyBank,companyBankAccount:n.editForm.companyBankAccount,companyAddress:n.editForm.companyAddress,companyTel:n.editForm.companyTel,companyType:0}).then(function(t){console.log(t),n.$Message.success("维护成功!"),n.purchlist()})):n.$Message.error("请填写模板适用客户信息!")})},deleteUnits:function(t){var n=this;this.$httpServer("/outputCompany/deleteOutputCompany.do",{outputCompanyId:t}).then(function(t){console.log(t),n.$Message.success("删除成功!"),n.purchlist()})},onChangeRadio:function(t){console.log(t);for(var n=0;n<this.getCompanys.length;n++)this.getCompanys[n].id==t&&(this.myjson=this.getCompanys[n]);console.log(this.myjson)},sureAcceptance:function(){this.$emit("message2",this.myjson,this.defaultDeliver),this.formRules.companyId=this.myjson.id,this.formRules.companyName=this.myjson.companyName},acceptanceInfoMd:function(){this.$emit("message2",this.myjson,this.defaultDeliver),this.formRules.companyId=this.myjson.id,this.formRules.companyName=this.myjson.companyName},backlist:function(){this.$router.go(-1)},unitsMds:function(){this.$refs.addForm.resetFields(),this.unitsMd=!0}}}},427:function(t,n,o){var e=o(428);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);o(18)("bc7dc256",e,!1)},428:function(t,n,o){n=t.exports=o(17)(void 0),n.push([t.i,'\n.margin-top-8 {\n  margin-top: 8px;\n}\n.margin-top-10 {\n  margin-top: 10px;\n}\n.margin-top-20 {\n  margin-top: 20px;\n}\n.margin-left-10 {\n  margin-left: 10px;\n}\n.margin-left-50 {\n  margin-left: 50px;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px;\n}\n.margin-bottom-100 {\n  margin-bottom: 100px;\n}\n.margin-right-10 {\n  margin-right: 10px;\n}\n.margin-right-20 {\n  margin-right: 20px;\n}\n.padding-bottom-10 {\n  padding-bottom: 10px;\n}\n.padding-left-6 {\n  padding-left: 6px;\n}\n.padding-left-8 {\n  padding-left: 5px;\n}\n.padding-left-10 {\n  padding-left: 10px;\n}\n.padding-left-20 {\n  padding-left: 20px;\n}\n.height-100 {\n  height: 100%;\n}\n.height-120px {\n  height: 100px;\n}\n.height-200px {\n  height: 200px;\n}\n.height-492px {\n  height: 492px;\n}\n.height-460px {\n  height: 460px;\n}\n.line-gray {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.notwrap {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.padding-left-5 {\n  padding-left: 10px;\n}\n[v-cloak] {\n  display: none;\n}\n.clearfix:after {\n  content: ".";\n  clear: both;\n  display: block;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n.clearfix {\n  zoom: 1;\n}\n.fl {\n  float: left;\n}\n.fr {\n  float: right;\n}\n.file {\n  position: relative;\n  display: inline-block;\n  background: #D0EEFF;\n  border: 1px solid #99D3F5;\n  border-radius: 4px;\n  padding: 4px 12px;\n  overflow: hidden;\n  color: #1E88C7;\n  text-decoration: none;\n  text-indent: 0;\n  line-height: 20px;\n}\n.file input {\n  position: absolute;\n  font-size: 100px;\n  right: 0;\n  top: 0;\n  opacity: 0;\n}\n.file:hover {\n  background: #AADFFD;\n  border-color: #78C3F3;\n  color: #004974;\n  text-decoration: none;\n}\n.my-upload div table tr {\n  font-size: 12px;\n}\n.greyCol {\n  color: #999;\n}\n.expand-row {\n  margin-bottom: 16px;\n  margin-top: 16px;\n  font-size: 12px;\n}\ntextarea.ivu-input {\n  font-size: 12px;\n}\n.soltTitlel {\n  line-height: 2;\n  padding: 0 16px;\n  margin-left: -16px;\n  margin-right: -19px;\n  font-weight: 900;\n  color: #464c5b;\n}\n.expand-row {\n  margin-bottom: 16px;\n  margin-top: 16px;\n}\n.soltTitlel {\n  line-height: 2;\n  padding: 0 16px;\n  margin-left: -16px;\n  margin-right: -19px;\n  font-weight: 900;\n  color: #464c5b;\n}\n',""])},429:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{staticClass:"receiveAddress"},[o("Card",{staticClass:"margin-bottom-10"},[o("Row",{attrs:{align:"middle",type:"flex"}},[o("Col",{attrs:{span:"8"}},[o("p",{staticClass:"soltTitlel"},[t._v("模板适用客户信息")])]),t._v(" "),o("Col",{attrs:{span:"5",offset:"11"}},[o("Button",{staticClass:"fr",attrs:{type:"primary"},on:{click:function(n){t.unitsMds()}}},[o("Icon",{attrs:{type:"plus"}}),t._v("  新建")],1)],1)],1)],1),t._v(" "),o("Card",[o("div",[o("RadioGroup",{staticStyle:{width:"100%"},attrs:{vertical:""},on:{"on-change":t.onChangeRadio},model:{value:t.vertical,callback:function(n){t.vertical=n},expression:"vertical"}},t._l(t.getCompanys,function(n,e){return o("Row",{key:n.id,staticClass:"code-row-bg",attrs:{type:"flex",justify:"center",align:"middle"}},[o("Col",{attrs:{span:"1"}},[o("Radio",{attrs:{label:n.id,size:"large"}},[o("i",{staticStyle:{display:"none"}},[t._v(" "+t._s(n.id))])])],1),t._v(" "),o("Col",{attrs:{span:"23"}},[o("Row",{staticClass:"expand-row"},[o("Col",{attrs:{span:"11"}},[o("Col",{attrs:{span:"11",offset:"2"}},[t._v("模板适用单位:")]),t._v(" "),o("Col",{attrs:{span:"11"}},[t._v(t._s(n.companyName))])],1),t._v(" "),o("Col",{attrs:{span:"11",offset:"2"}},[o("Col",{attrs:{span:"11",offset:"2"}},[t._v("纳税人识别号: ")]),t._v(" "),o("Col",{attrs:{span:"11"}},[t._v(t._s(n.companyCode))])],1)],1),t._v(" "),o("Row",{staticClass:"expand-row"},[o("Col",{attrs:{span:"11"}},[o("Col",{attrs:{span:"11",offset:"2"}},[t._v("开户行:")]),t._v(" "),o("Col",{attrs:{span:"11"}},[t._v(t._s(n.companyBank))])],1),t._v(" "),o("Col",{attrs:{span:"11",offset:"2"}},[o("Col",{attrs:{span:"11",offset:"2"}},[t._v("银行账号: ")]),t._v(" "),o("Col",{attrs:{span:"11"}},[t._v(t._s(n.companyBankAccount))])],1)],1),t._v(" "),o("Row",{},[o("Col",{attrs:{span:"11"}},[o("Col",{attrs:{span:"11",offset:"2"}},[t._v("地址:")]),t._v(" "),o("Col",{attrs:{span:"11"}},[t._v(t._s(n.companyAddress))])],1),t._v(" "),o("Col",{attrs:{span:"11",offset:"2"}},[o("Col",{attrs:{span:"11",offset:"2"}},[t._v("电话: ")]),t._v(" "),o("Col",{attrs:{span:"11"}},[t._v(t._s(n.companyTel))])],1)],1),t._v(" "),o("Row",{attrs:{type:"flex",justify:"end"}},[o("Col",{attrs:{span:"2"}},[o("Button",{staticStyle:{color:"#2d8cf0"},attrs:{type:"text"},on:{click:function(o){t.editUnits(n.id)}}},[t._v("编辑")])],1),t._v(" "),o("Col",{attrs:{span:"2"}},[o("Button",{staticStyle:{color:"#2d8cf0"},attrs:{type:"text"},on:{click:function(o){t.deleteUnits(n.id)}}},[t._v("删除")])],1)],1)],1)],1)}))],1),t._v(" "),o("div",{staticClass:"margin-top-20"},[o("Row",{staticClass:"code-row-bg",attrs:{type:"flex",justify:"end"}},[o("Col",{attrs:{span:"2"}},[o("Button",{attrs:{type:"primary",loading:t.modal_loading},on:{click:function(n){t.sureAcceptance()}}},[t._v("确定")])],1),t._v(" "),o("Col",{attrs:{span:"2"}},[o("Button",{attrs:{type:"ghost",loading:t.modal_loading},on:{click:function(n){t.acceptanceInfoMd()}}},[t._v("取消")])],1)],1)],1)]),t._v(" "),o("Modal",{attrs:{title:"新增模板",width:"50%"},model:{value:t.unitsMd,callback:function(n){t.unitsMd=n},expression:"unitsMd"}},[o("Form",{ref:"addForm",attrs:{model:t.addForm,rules:t.ruleValidates,"label-position":"top"}},[o("Row",[o("Col",{attrs:{span:"11"}},[o("FormItem",{attrs:{label:"单位名称",prop:"companyName"}},[o("Input",{attrs:{placeholder:"单位名称"},model:{value:t.addForm.companyName,callback:function(n){t.$set(t.addForm,"companyName",n)},expression:"addForm.companyName"}})],1)],1),t._v(" "),o("Col",{attrs:{span:"11",offset:"2"}},[o("FormItem",{attrs:{label:"纳税人识别号",prop:"companyCode"}},[o("Input",{attrs:{placeholder:"纳税人识别号"},model:{value:t.addForm.companyCode,callback:function(n){t.$set(t.addForm,"companyCode",n)},expression:"addForm.companyCode"}})],1)],1)],1),t._v(" "),o("Row",[o("Col",{attrs:{span:"11"}},[o("FormItem",{attrs:{label:"开户行",prop:"companyBank"}},[o("Input",{attrs:{placeholder:"开户行"},model:{value:t.addForm.companyBank,callback:function(n){t.$set(t.addForm,"companyBank",n)},expression:"addForm.companyBank"}})],1)],1),t._v(" "),o("Col",{attrs:{span:"11",offset:"2"}},[o("FormItem",{attrs:{label:"银行账号",prop:"companyBankAccount"}},[o("Input",{attrs:{placeholder:"银行账号"},model:{value:t.addForm.companyBankAccount,callback:function(n){t.$set(t.addForm,"companyBankAccount",n)},expression:"addForm.companyBankAccount"}})],1)],1)],1),t._v(" "),o("Row",[o("Col",{attrs:{span:"11"}},[o("FormItem",{attrs:{label:"地址",prop:"companyAddress"}},[o("Input",{attrs:{placeholder:"地址"},model:{value:t.addForm.companyAddress,callback:function(n){t.$set(t.addForm,"companyAddress",n)},expression:"addForm.companyAddress"}})],1)],1),t._v(" "),o("Col",{attrs:{span:"11",offset:"2"}},[o("FormItem",{attrs:{label:"电话",prop:"companyTel"}},[o("Input",{attrs:{placeholder:"电话"},model:{value:t.addForm.companyTel,callback:function(n){t.$set(t.addForm,"companyTel",n)},expression:"addForm.companyTel"}})],1)],1)],1)],1),t._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"primary"},on:{click:function(n){t.addUnits("addForm")}}},[t._v("确认")]),t._v(" "),o("Button",{attrs:{type:"ghost"},on:{click:function(n){t.unitsMd=!1}}},[t._v("取消")])],1)],1),t._v(" "),o("Modal",{attrs:{title:"维护模板",width:"50%"},model:{value:t.unitsEdit,callback:function(n){t.unitsEdit=n},expression:"unitsEdit"}},[o("Form",{ref:"editForm",attrs:{model:t.editForm,rules:t.ruleValidates,"label-position":"top"}},[o("Row",[o("Col",{attrs:{span:"11"}},[o("FormItem",{attrs:{label:"单位名称",prop:"companyName"}},[o("Input",{attrs:{placeholder:"单位名称"},model:{value:t.editForm.companyName,callback:function(n){t.$set(t.editForm,"companyName",n)},expression:"editForm.companyName"}})],1)],1),t._v(" "),o("Col",{attrs:{span:"11",offset:"2"}},[o("FormItem",{attrs:{label:"纳税人识别号",prop:"companyCode"}},[o("Input",{attrs:{placeholder:"纳税人识别号"},model:{value:t.editForm.companyCode,callback:function(n){t.$set(t.editForm,"companyCode",n)},expression:"editForm.companyCode"}})],1)],1)],1),t._v(" "),o("Row",[o("Col",{attrs:{span:"11"}},[o("FormItem",{attrs:{label:"开户行",prop:"companyBank"}},[o("Input",{attrs:{placeholder:"开户行"},model:{value:t.editForm.companyBank,callback:function(n){t.$set(t.editForm,"companyBank",n)},expression:"editForm.companyBank"}})],1)],1),t._v(" "),o("Col",{attrs:{span:"11",offset:"2"}},[o("FormItem",{attrs:{label:"银行账号",prop:"companyBankAccount"}},[o("Input",{attrs:{placeholder:"银行账号"},model:{value:t.editForm.companyBankAccount,callback:function(n){t.$set(t.editForm,"companyBankAccount",n)},expression:"editForm.companyBankAccount"}})],1)],1)],1),t._v(" "),o("Row",[o("Col",{attrs:{span:"11"}},[o("FormItem",{attrs:{label:"地址",prop:"companyAddress"}},[o("Input",{attrs:{placeholder:"地址"},model:{value:t.editForm.companyAddress,callback:function(n){t.$set(t.editForm,"companyAddress",n)},expression:"editForm.companyAddress"}})],1)],1),t._v(" "),o("Col",{attrs:{span:"11",offset:"2"}},[o("FormItem",{attrs:{label:"电话",prop:"companyTel"}},[o("Input",{attrs:{placeholder:"电话"},model:{value:t.editForm.companyTel,callback:function(n){t.$set(t.editForm,"companyTel",n)},expression:"editForm.companyTel"}})],1)],1)],1)],1),t._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"primary"},on:{click:function(n){t.updateUnits()}}},[t._v("确认")]),t._v(" "),o("Button",{attrs:{type:"ghost"},on:{click:function(n){t.unitsEdit=!1}}},[t._v("取消")])],1)],1)],1)},a=[];e._withStripped=!0;var r={render:e,staticRenderFns:a};n.default=r}});